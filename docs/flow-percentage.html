<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Flow-Percentage | EPFR Strategy Notebooks</title>
  <meta name="description" content="The objective of this book is to present EPFRs proof of concept strategies so that readers have a profound understanding of how to use our EPFR’s flow and allocation dataset, construct a signal, and find initial value." />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="Flow-Percentage | EPFR Strategy Notebooks" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://epfr.github.io/EPFR-QuantNotebooks/images/EPFR_Icon.png" />
  <meta property="og:description" content="The objective of this book is to present EPFRs proof of concept strategies so that readers have a profound understanding of how to use our EPFR’s flow and allocation dataset, construct a signal, and find initial value." />
  <meta name="github-repo" content="EPFR/EPFR-QuantNotebooks" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Flow-Percentage | EPFR Strategy Notebooks" />
  
  <meta name="twitter:description" content="The objective of this book is to present EPFRs proof of concept strategies so that readers have a profound understanding of how to use our EPFR’s flow and allocation dataset, construct a signal, and find initial value." />
  <meta name="twitter:image" content="https://epfr.github.io/EPFR-QuantNotebooks/images/EPFR_Icon.png" />




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="quick-start.html"/>
<link rel="next" href="api-multi-asset-region-strategy.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { font-weight: bold; } /* Alert */
code span.an { font-style: italic; } /* Annotation */
code span.cf { font-weight: bold; } /* ControlFlow */
code span.co { font-style: italic; } /* Comment */
code span.cv { font-style: italic; } /* CommentVar */
code span.do { font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.er { font-weight: bold; } /* Error */
code span.in { font-style: italic; } /* Information */
code span.kw { font-weight: bold; } /* Keyword */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.wa { font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="images/comingsoon.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="macro-strategy-signals.html"><a href="macro-strategy-signals.html"><i class="fa fa-check"></i>Macro Strategy Signals</a>
<ul>
<li class="chapter" data-level="" data-path="macro-strategy-signals.html"><a href="macro-strategy-signals.html#flow-momentum"><i class="fa fa-check"></i>Flow Momentum</a></li>
<li class="chapter" data-level="" data-path="macro-strategy-signals.html"><a href="macro-strategy-signals.html#activepassive-indicator"><i class="fa fa-check"></i>Active/Passive Indicator</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="epfr-stock-factors.html"><a href="epfr-stock-factors.html"><i class="fa fa-check"></i>EPFR Stock Factors</a>
<ul>
<li class="chapter" data-level="" data-path="epfr-stock-factors.html"><a href="epfr-stock-factors.html#daily-factors"><i class="fa fa-check"></i>Daily Factors:</a></li>
<li class="chapter" data-level="" data-path="epfr-stock-factors.html"><a href="epfr-stock-factors.html#monthly-factors"><i class="fa fa-check"></i>Monthly Factors:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="epfr-api.html"><a href="epfr-api.html"><i class="fa fa-check"></i>EPFR API</a>
<ul>
<li class="chapter" data-level="" data-path="quick-start.html"><a href="quick-start.html"><i class="fa fa-check"></i>Quick Start</a>
<ul>
<li class="chapter" data-level="" data-path="quick-start.html"><a href="quick-start.html#api-install"><i class="fa fa-check"></i>API Install</a></li>
<li class="chapter" data-level="" data-path="quick-start.html"><a href="quick-start.html#api-login"><i class="fa fa-check"></i>API Login</a></li>
<li class="chapter" data-level="" data-path="quick-start.html"><a href="quick-start.html#api-call"><i class="fa fa-check"></i>API Call</a></li>
<li class="chapter" data-level="" data-path="quick-start.html"><a href="quick-start.html#example-api-call"><i class="fa fa-check"></i>Example API call</a></li>
<li class="chapter" data-level="" data-path="quick-start.html"><a href="quick-start.html#api-date-format"><i class="fa fa-check"></i>API Date Format</a></li>
<li class="chapter" data-level="" data-path="quick-start.html"><a href="quick-start.html#supplemental-libraries"><i class="fa fa-check"></i>Supplemental Libraries</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="flow-percentage.html"><a href="flow-percentage.html"><i class="fa fa-check"></i>Flow-Percentage</a>
<ul>
<li class="chapter" data-level="" data-path="flow-percentage.html"><a href="flow-percentage.html#api-flow-percentage-country-strategy"><i class="fa fa-check"></i>API Flow-Percentage Country Strategy</a></li>
<li class="chapter" data-level="" data-path="flow-percentage.html"><a href="flow-percentage.html#api-country-allocations"><i class="fa fa-check"></i>API Country Allocations</a></li>
<li class="chapter" data-level="" data-path="flow-percentage.html"><a href="flow-percentage.html#api-fund-flows"><i class="fa fa-check"></i>API Fund Flows</a></li>
<li class="chapter" data-level="" data-path="flow-percentage.html"><a href="flow-percentage.html#calculating-flow-percentage-country"><i class="fa fa-check"></i>Calculating Flow-Percentage Country</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="api-multi-asset-region-strategy.html"><a href="api-multi-asset-region-strategy.html"><i class="fa fa-check"></i>API Multi Asset Region Strategy</a></li>
<li class="chapter" data-level="" data-path="multi-asset-fi-strategy.html"><a href="multi-asset-fi-strategy.html"><i class="fa fa-check"></i>Multi Asset FI Strategy</a></li>
<li class="chapter" data-level="" data-path="api-dictionaries.html"><a href="api-dictionaries.html"><i class="fa fa-check"></i>API Dictionaries</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="epfr.r-library.html"><a href="epfr.r-library.html"><i class="fa fa-check"></i>EPFR.r Library</a>
<ul>
<li class="chapter" data-level="" data-path="set-up.html"><a href="set-up.html"><i class="fa fa-check"></i>Set-up</a></li>
<li class="chapter" data-level="" data-path="strategy-functions.html"><a href="strategy-functions.html"><i class="fa fa-check"></i>Strategy Functions</a>
<ul>
<li class="chapter" data-level="" data-path="strategy-functions.html"><a href="strategy-functions.html#total-return-index"><i class="fa fa-check"></i>Total Return Index</a></li>
<li class="chapter" data-level="" data-path="strategy-functions.html"><a href="strategy-functions.html#compunding-flows"><i class="fa fa-check"></i>Compunding Flows</a></li>
<li class="chapter" data-level="" data-path="strategy-functions.html"><a href="strategy-functions.html#model"><i class="fa fa-check"></i>Model</a></li>
<li class="chapter" data-level="" data-path="strategy-functions.html"><a href="strategy-functions.html#example"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="epfr-data-filters.html"><a href="epfr-data-filters.html"><i class="fa fa-check"></i>EPFR Data &amp; Filters</a>
<ul>
<li class="chapter" data-level="" data-path="video-explanations.html"><a href="video-explanations.html"><i class="fa fa-check"></i>Video Explanations</a>
<ul>
<li class="chapter" data-level="" data-path="video-explanations.html"><a href="video-explanations.html#asset-class-focus"><i class="fa fa-check"></i>Asset class focus</a></li>
<li class="chapter" data-level="" data-path="video-explanations.html"><a href="video-explanations.html#fund-type"><i class="fa fa-check"></i>Fund type</a></li>
<li class="chapter" data-level="" data-path="video-explanations.html"><a href="video-explanations.html#investor-type"><i class="fa fa-check"></i>Investor type</a></li>
<li class="chapter" data-level="" data-path="video-explanations.html"><a href="video-explanations.html#currency-of-flows"><i class="fa fa-check"></i>Currency of flows</a></li>
<li class="chapter" data-level="" data-path="video-explanations.html"><a href="video-explanations.html#fund-domicile-or-geographic-focus"><i class="fa fa-check"></i>Fund domicile or Geographic focus</a></li>
<li class="chapter" data-level="" data-path="video-explanations.html"><a href="video-explanations.html#theme"><i class="fa fa-check"></i>Theme</a></li>
<li class="chapter" data-level="" data-path="video-explanations.html"><a href="video-explanations.html#sector"><i class="fa fa-check"></i>Sector</a></li>
<li class="chapter" data-level="" data-path="video-explanations.html"><a href="video-explanations.html#style"><i class="fa fa-check"></i>Style</a></li>
<li class="chapter" data-level="" data-path="video-explanations.html"><a href="video-explanations.html#duration"><i class="fa fa-check"></i>Duration</a></li>
<li class="chapter" data-level="" data-path="video-explanations.html"><a href="video-explanations.html#individual-managers"><i class="fa fa-check"></i>Individual managers</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Macro Strategies</b></span></li>
<li class="chapter" data-level="1" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html"><i class="fa fa-check"></i><b>1</b> Multi-Asset Strategy</a>
<ul>
<li class="chapter" data-level="1.1" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>1.1</b> Data</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="data.html"><a href="data.html#aggregations"><i class="fa fa-check"></i><b>1.1.1</b> Aggregations</a></li>
<li class="chapter" data-level="1.1.2" data-path="data.html"><a href="data.html#daily-percentage-flow"><i class="fa fa-check"></i><b>1.1.2</b> Daily Percentage Flow</a></li>
<li class="chapter" data-level="1.1.3" data-path="data.html"><a href="data.html#aggregate-flow-file"><i class="fa fa-check"></i><b>1.1.3</b> Aggregate Flow File</a></li>
<li class="chapter" data-level="1.1.4" data-path="data.html"><a href="data.html#return-file"><i class="fa fa-check"></i><b>1.1.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="strategy-implementation.html"><a href="strategy-implementation.html"><i class="fa fa-check"></i><b>1.2</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="strategy-implementation.html"><a href="strategy-implementation.html#compounding-flows"><i class="fa fa-check"></i><b>1.2.1</b> Compounding Flows</a></li>
<li class="chapter" data-level="1.2.2" data-path="strategy-implementation.html"><a href="strategy-implementation.html#total-return-index-1"><i class="fa fa-check"></i><b>1.2.2</b> Total Return Index</a></li>
<li class="chapter" data-level="1.2.3" data-path="strategy-implementation.html"><a href="strategy-implementation.html#subset-files"><i class="fa fa-check"></i><b>1.2.3</b> Subset files</a></li>
<li class="chapter" data-level="1.2.4" data-path="strategy-implementation.html"><a href="strategy-implementation.html#ranking-asset-classes"><i class="fa fa-check"></i><b>1.2.4</b> Ranking Asset Classes</a></li>
<li class="chapter" data-level="1.2.5" data-path="strategy-implementation.html"><a href="strategy-implementation.html#model-1"><i class="fa fa-check"></i><b>1.2.5</b> Model</a></li>
<li class="chapter" data-level="1.2.6" data-path="strategy-implementation.html"><a href="strategy-implementation.html#performance"><i class="fa fa-check"></i><b>1.2.6</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="fx-strategy.html"><a href="fx-strategy.html"><i class="fa fa-check"></i><b>2</b> FX Strategy</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-1.html"><a href="data-1.html"><i class="fa fa-check"></i><b>2.1</b> Data</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="data-1.html"><a href="data-1.html#aggregations-1"><i class="fa fa-check"></i><b>2.1.1</b> Aggregations</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-1.html"><a href="data-1.html#daily-percentage-flow-1"><i class="fa fa-check"></i><b>2.1.2</b> Daily Percentage Flow</a></li>
<li class="chapter" data-level="2.1.3" data-path="data-1.html"><a href="data-1.html#aggregate-flow-file-1"><i class="fa fa-check"></i><b>2.1.3</b> Aggregate Flow File</a></li>
<li class="chapter" data-level="2.1.4" data-path="data-1.html"><a href="data-1.html#return-file-1"><i class="fa fa-check"></i><b>2.1.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="strategy-implementation-1.html"><a href="strategy-implementation-1.html"><i class="fa fa-check"></i><b>2.2</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="strategy-implementation-1.html"><a href="strategy-implementation-1.html#compounding-flows-1"><i class="fa fa-check"></i><b>2.2.1</b> Compounding Flows</a></li>
<li class="chapter" data-level="2.2.2" data-path="strategy-implementation-1.html"><a href="strategy-implementation-1.html#ranking-currencies"><i class="fa fa-check"></i><b>2.2.2</b> Ranking Currencies</a></li>
<li class="chapter" data-level="2.2.3" data-path="strategy-implementation-1.html"><a href="strategy-implementation-1.html#model-2"><i class="fa fa-check"></i><b>2.2.3</b> Model</a></li>
<li class="chapter" data-level="2.2.4" data-path="strategy-implementation-1.html"><a href="strategy-implementation-1.html#performance-1"><i class="fa fa-check"></i><b>2.2.4</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html"><i class="fa fa-check"></i><b>3</b> Flow-Percentage Country Strategy</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-2.html"><a href="data-2.html"><i class="fa fa-check"></i><b>3.1</b> Data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-2.html"><a href="data-2.html#aggregations-2"><i class="fa fa-check"></i><b>3.1.1</b> Aggregations</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-2.html"><a href="data-2.html#daily-percentage-flow-2"><i class="fa fa-check"></i><b>3.1.2</b> Daily Percentage Flow</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-2.html"><a href="data-2.html#aggregate-flow-file-2"><i class="fa fa-check"></i><b>3.1.3</b> Aggregate Flow File</a></li>
<li class="chapter" data-level="3.1.4" data-path="data-2.html"><a href="data-2.html#return-file-2"><i class="fa fa-check"></i><b>3.1.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="strategy-implementation-2.html"><a href="strategy-implementation-2.html"><i class="fa fa-check"></i><b>3.2</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="strategy-implementation-2.html"><a href="strategy-implementation-2.html#compounding-flows-2"><i class="fa fa-check"></i><b>3.2.1</b> Compounding Flows</a></li>
<li class="chapter" data-level="3.2.2" data-path="strategy-implementation-2.html"><a href="strategy-implementation-2.html#total-return-index-2"><i class="fa fa-check"></i><b>3.2.2</b> Total Return Index</a></li>
<li class="chapter" data-level="3.2.3" data-path="strategy-implementation-2.html"><a href="strategy-implementation-2.html#ranking-countries"><i class="fa fa-check"></i><b>3.2.3</b> Ranking Countries</a></li>
<li class="chapter" data-level="3.2.4" data-path="strategy-implementation-2.html"><a href="strategy-implementation-2.html#model-3"><i class="fa fa-check"></i><b>3.2.4</b> Model</a></li>
<li class="chapter" data-level="3.2.5" data-path="strategy-implementation-2.html"><a href="strategy-implementation-2.html#performance-2"><i class="fa fa-check"></i><b>3.2.5</b> Performance</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="publications.html"><a href="publications.html"><i class="fa fa-check"></i><b>3.3</b> Publications</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html"><i class="fa fa-check"></i><b>4</b> Flow-Percentage Sector Strategy</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-3.html"><a href="data-3.html"><i class="fa fa-check"></i><b>4.1</b> Data</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-3.html"><a href="data-3.html#aggregations-3"><i class="fa fa-check"></i><b>4.1.1</b> Aggregations</a></li>
<li class="chapter" data-level="4.1.2" data-path="data-3.html"><a href="data-3.html#daily-percentage-flow-3"><i class="fa fa-check"></i><b>4.1.2</b> Daily Percentage Flow</a></li>
<li class="chapter" data-level="4.1.3" data-path="data-3.html"><a href="data-3.html#aggregate-flow-file-3"><i class="fa fa-check"></i><b>4.1.3</b> Aggregate Flow File</a></li>
<li class="chapter" data-level="4.1.4" data-path="data-3.html"><a href="data-3.html#return-file-3"><i class="fa fa-check"></i><b>4.1.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="strategy-implementation-3.html"><a href="strategy-implementation-3.html"><i class="fa fa-check"></i><b>4.2</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="strategy-implementation-3.html"><a href="strategy-implementation-3.html#compounding-flows-3"><i class="fa fa-check"></i><b>4.2.1</b> Compounding Flows</a></li>
<li class="chapter" data-level="4.2.2" data-path="strategy-implementation-3.html"><a href="strategy-implementation-3.html#total-return-index-3"><i class="fa fa-check"></i><b>4.2.2</b> Total Return Index</a></li>
<li class="chapter" data-level="4.2.3" data-path="strategy-implementation-3.html"><a href="strategy-implementation-3.html#ranking-sectors"><i class="fa fa-check"></i><b>4.2.3</b> Ranking Sectors</a></li>
<li class="chapter" data-level="4.2.4" data-path="strategy-implementation-3.html"><a href="strategy-implementation-3.html#model-4"><i class="fa fa-check"></i><b>4.2.4</b> Model</a></li>
<li class="chapter" data-level="4.2.5" data-path="strategy-implementation-3.html"><a href="strategy-implementation-3.html#performance-3"><i class="fa fa-check"></i><b>4.2.5</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html"><i class="fa fa-check"></i><b>5</b> Active/Passive Country Strategy</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-4.html"><a href="data-4.html"><i class="fa fa-check"></i><b>5.1</b> Data</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data-4.html"><a href="data-4.html#aggregations-4"><i class="fa fa-check"></i><b>5.1.1</b> Aggregations</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-4.html"><a href="data-4.html#activepassive-indicator-1"><i class="fa fa-check"></i><b>5.1.2</b> Active/Passive Indicator</a></li>
<li class="chapter" data-level="5.1.3" data-path="data-4.html"><a href="data-4.html#aggregate-indicator-file"><i class="fa fa-check"></i><b>5.1.3</b> Aggregate Indicator File</a></li>
<li class="chapter" data-level="5.1.4" data-path="data-4.html"><a href="data-4.html#return-file-4"><i class="fa fa-check"></i><b>5.1.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="strategy-implementation-4.html"><a href="strategy-implementation-4.html"><i class="fa fa-check"></i><b>5.2</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="strategy-implementation-4.html"><a href="strategy-implementation-4.html#moving-sum-of-indicator"><i class="fa fa-check"></i><b>5.2.1</b> Moving Sum of Indicator</a></li>
<li class="chapter" data-level="5.2.2" data-path="strategy-implementation-4.html"><a href="strategy-implementation-4.html#total-return-index-4"><i class="fa fa-check"></i><b>5.2.2</b> Total Return Index</a></li>
<li class="chapter" data-level="5.2.3" data-path="strategy-implementation-4.html"><a href="strategy-implementation-4.html#ranking-countries-1"><i class="fa fa-check"></i><b>5.2.3</b> Ranking Countries</a></li>
<li class="chapter" data-level="5.2.4" data-path="strategy-implementation-4.html"><a href="strategy-implementation-4.html#model-5"><i class="fa fa-check"></i><b>5.2.4</b> Model</a></li>
<li class="chapter" data-level="5.2.5" data-path="strategy-implementation-4.html"><a href="strategy-implementation-4.html#performance-4"><i class="fa fa-check"></i><b>5.2.5</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="activepassive-sector-strategy.html"><a href="activepassive-sector-strategy.html"><i class="fa fa-check"></i><b>6</b> Active/Passive Sector Strategy</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-5.html"><a href="data-5.html"><i class="fa fa-check"></i><b>6.1</b> Data</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="data-5.html"><a href="data-5.html#aggregations-5"><i class="fa fa-check"></i><b>6.1.1</b> Aggregations</a></li>
<li class="chapter" data-level="6.1.2" data-path="data-5.html"><a href="data-5.html#activepassive-indicator-2"><i class="fa fa-check"></i><b>6.1.2</b> Active/Passive Indicator</a></li>
<li class="chapter" data-level="6.1.3" data-path="data-5.html"><a href="data-5.html#aggregate-indicator-file-1"><i class="fa fa-check"></i><b>6.1.3</b> Aggregate Indicator File</a></li>
<li class="chapter" data-level="6.1.4" data-path="data-5.html"><a href="data-5.html#return-file-5"><i class="fa fa-check"></i><b>6.1.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="strategy-implementation-5.html"><a href="strategy-implementation-5.html"><i class="fa fa-check"></i><b>6.2</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="strategy-implementation-5.html"><a href="strategy-implementation-5.html#moving-sum-of-indicator-1"><i class="fa fa-check"></i><b>6.2.1</b> Moving Sum of Indicator</a></li>
<li class="chapter" data-level="6.2.2" data-path="strategy-implementation-5.html"><a href="strategy-implementation-5.html#total-return-index-5"><i class="fa fa-check"></i><b>6.2.2</b> Total Return Index</a></li>
<li class="chapter" data-level="6.2.3" data-path="strategy-implementation-5.html"><a href="strategy-implementation-5.html#ranking-sectors-1"><i class="fa fa-check"></i><b>6.2.3</b> Ranking Sectors</a></li>
<li class="chapter" data-level="6.2.4" data-path="strategy-implementation-5.html"><a href="strategy-implementation-5.html#model-6"><i class="fa fa-check"></i><b>6.2.4</b> Model</a></li>
<li class="chapter" data-level="6.2.5" data-path="strategy-implementation-5.html"><a href="strategy-implementation-5.html#performance-5"><i class="fa fa-check"></i><b>6.2.5</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html"><i class="fa fa-check"></i><b>7</b> Flow-Percentage DM Rates Strategy</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-6.html"><a href="data-6.html"><i class="fa fa-check"></i><b>7.1</b> Data</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="data-6.html"><a href="data-6.html#aggregations-6"><i class="fa fa-check"></i><b>7.1.1</b> Aggregations</a></li>
<li class="chapter" data-level="7.1.2" data-path="data-6.html"><a href="data-6.html#daily-percentage-flow-4"><i class="fa fa-check"></i><b>7.1.2</b> Daily Percentage Flow</a></li>
<li class="chapter" data-level="7.1.3" data-path="data-6.html"><a href="data-6.html#aggregate-flow-file-4"><i class="fa fa-check"></i><b>7.1.3</b> Aggregate Flow File</a></li>
<li class="chapter" data-level="7.1.4" data-path="data-6.html"><a href="data-6.html#return-file-6"><i class="fa fa-check"></i><b>7.1.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="strategy-implementation-6.html"><a href="strategy-implementation-6.html"><i class="fa fa-check"></i><b>7.2</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="strategy-implementation-6.html"><a href="strategy-implementation-6.html#compounding-flows-4"><i class="fa fa-check"></i><b>7.2.1</b> Compounding Flows</a></li>
<li class="chapter" data-level="7.2.2" data-path="strategy-implementation-6.html"><a href="strategy-implementation-6.html#ranking-countries-2"><i class="fa fa-check"></i><b>7.2.2</b> Ranking Countries</a></li>
<li class="chapter" data-level="7.2.3" data-path="strategy-implementation-6.html"><a href="strategy-implementation-6.html#model-7"><i class="fa fa-check"></i><b>7.2.3</b> Model</a></li>
<li class="chapter" data-level="7.2.4" data-path="strategy-implementation-6.html"><a href="strategy-implementation-6.html#performance-6"><i class="fa fa-check"></i><b>7.2.4</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Alternative Macro Strategies</b></span></li>
<li class="chapter" data-level="8" data-path="flow-percentage-daily-fixed-income-strategy.html"><a href="flow-percentage-daily-fixed-income-strategy.html"><i class="fa fa-check"></i><b>8</b> Flow-Percentage Daily Fixed-Income Strategy</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-7.html"><a href="data-7.html"><i class="fa fa-check"></i><b>8.1</b> Data</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="data-7.html"><a href="data-7.html#aggregations-7"><i class="fa fa-check"></i><b>8.1.1</b> Aggregations</a></li>
<li class="chapter" data-level="8.1.2" data-path="data-7.html"><a href="data-7.html#daily-percentage-flow-5"><i class="fa fa-check"></i><b>8.1.2</b> Daily Percentage Flow</a></li>
<li class="chapter" data-level="8.1.3" data-path="data-7.html"><a href="data-7.html#aggregate-flow-file-5"><i class="fa fa-check"></i><b>8.1.3</b> Aggregate Flow File</a></li>
<li class="chapter" data-level="8.1.4" data-path="data-7.html"><a href="data-7.html#return-file-7"><i class="fa fa-check"></i><b>8.1.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="strategy-implementation-7.html"><a href="strategy-implementation-7.html"><i class="fa fa-check"></i><b>8.2</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="strategy-implementation-7.html"><a href="strategy-implementation-7.html#total-return-index-6"><i class="fa fa-check"></i><b>8.2.1</b> Total Return Index</a></li>
<li class="chapter" data-level="8.2.2" data-path="strategy-implementation-7.html"><a href="strategy-implementation-7.html#ranking-asset-classes-1"><i class="fa fa-check"></i><b>8.2.2</b> Ranking Asset Classes</a></li>
<li class="chapter" data-level="8.2.3" data-path="strategy-implementation-7.html"><a href="strategy-implementation-7.html#model-8"><i class="fa fa-check"></i><b>8.2.3</b> Model</a></li>
<li class="chapter" data-level="8.2.4" data-path="strategy-implementation-7.html"><a href="strategy-implementation-7.html#performance-7"><i class="fa fa-check"></i><b>8.2.4</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Stock Factors</b></span></li>
<li class="chapter" data-level="9" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>9</b> Overview</a>
<ul>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#data-location"><i class="fa fa-check"></i>Data Location</a></li>
<li class="chapter" data-level="" data-path="overview.html"><a href="overview.html#data-derivation"><i class="fa fa-check"></i>Data Derivation</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="flow-momentum-1.html"><a href="flow-momentum-1.html"><i class="fa fa-check"></i><b>10</b> Flow Momentum</a>
<ul>
<li class="chapter" data-level="" data-path="flow-momentum-1.html"><a href="flow-momentum-1.html#flomo"><i class="fa fa-check"></i>FloMo</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="smart-money.html"><a href="smart-money.html"><i class="fa fa-check"></i><b>11</b> Smart Money</a>
<ul>
<li class="chapter" data-level="" data-path="smart-money.html"><a href="smart-money.html#references"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="" data-path="smart-money.html"><a href="smart-money.html#flotrend"><i class="fa fa-check"></i>FloTrend</a></li>
<li class="chapter" data-level="" data-path="smart-money.html"><a href="smart-money.html#flodiff"><i class="fa fa-check"></i>FloDiff</a></li>
<li class="chapter" data-level="" data-path="smart-money.html"><a href="smart-money.html#flodiff2"><i class="fa fa-check"></i>FloDiff2</a></li>
<li class="chapter" data-level="" data-path="smart-money.html"><a href="smart-money.html#actwttrend"><i class="fa fa-check"></i>ActWtTrend</a></li>
<li class="chapter" data-level="" data-path="smart-money.html"><a href="smart-money.html#actwtdiff"><i class="fa fa-check"></i>ActWtDiff</a></li>
<li class="chapter" data-level="" data-path="smart-money.html"><a href="smart-money.html#actwtdiff2"><i class="fa fa-check"></i>ActWtDiff2</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="manager-momentum.html"><a href="manager-momentum.html"><i class="fa fa-check"></i><b>12</b> Manager momentum</a>
<ul>
<li class="chapter" data-level="" data-path="manager-momentum.html"><a href="manager-momentum.html#allocmo"><i class="fa fa-check"></i>AllocMo</a></li>
<li class="chapter" data-level="" data-path="manager-momentum.html"><a href="manager-momentum.html#alloctrend"><i class="fa fa-check"></i>AllocTrend</a></li>
<li class="chapter" data-level="" data-path="manager-momentum.html"><a href="manager-momentum.html#allocdiff"><i class="fa fa-check"></i>AllocDiff</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="ownership-dispersion.html"><a href="ownership-dispersion.html"><i class="fa fa-check"></i><b>13</b> Ownership Dispersion</a>
<ul>
<li class="chapter" data-level="" data-path="ownership-dispersion.html"><a href="ownership-dispersion.html#herfindahl"><i class="fa fa-check"></i>Herfindahl</a></li>
<li class="chapter" data-level="" data-path="ownership-dispersion.html"><a href="ownership-dispersion.html#fund-count"><i class="fa fa-check"></i>Fund Count</a></li>
<li class="chapter" data-level="" data-path="ownership-dispersion.html"><a href="ownership-dispersion.html#references-1"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="conviction.html"><a href="conviction.html"><i class="fa fa-check"></i><b>14</b> Conviction</a>
<ul>
<li class="chapter" data-level="" data-path="conviction.html"><a href="conviction.html#allocskew"><i class="fa fa-check"></i>AllocSkew</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="index-curse-share-suprise.html"><a href="index-curse-share-suprise.html"><i class="fa fa-check"></i><b>15</b> Index Curse (Share Suprise)</a>
<ul>
<li class="chapter" data-level="" data-path="index-curse-share-suprise.html"><a href="index-curse-share-suprise.html#shssurp"><i class="fa fa-check"></i>ShsSurp</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="backtest-example.html"><a href="backtest-example.html"><i class="fa fa-check"></i><b>16</b> Backtest Example</a>
<ul>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i>Functions</a>
<ul>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#file-name"><i class="fa fa-check"></i>File name</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#format-file"><i class="fa fa-check"></i>Format file</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#fetchs-file"><i class="fa fa-check"></i>Fetchs file</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="import-data.html"><a href="import-data.html"><i class="fa fa-check"></i>Import Data</a>
<ul>
<li class="chapter" data-level="" data-path="import-data.html"><a href="import-data.html#epfr-stock-factor-data"><i class="fa fa-check"></i>EPFR Stock Factor data</a></li>
<li class="chapter" data-level="" data-path="import-data.html"><a href="import-data.html#returns-data"><i class="fa fa-check"></i>Returns data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="strategy-implementation-8.html"><a href="strategy-implementation-8.html"><i class="fa fa-check"></i>Strategy Implementation</a>
<ul>
<li class="chapter" data-level="" data-path="strategy-implementation-8.html"><a href="strategy-implementation-8.html#results"><i class="fa fa-check"></i>Results</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>FAQ</b></span></li>
<li class="chapter" data-level="" data-path="epfr-macro-strategey-files.html"><a href="epfr-macro-strategey-files.html"><i class="fa fa-check"></i>EPFR Macro Strategey Files</a></li>
<li class="chapter" data-level="" data-path="returns-information.html"><a href="returns-information.html"><i class="fa fa-check"></i>Returns Information</a></li>
<li class="chapter" data-level="" data-path="country-flows.html"><a href="country-flows.html"><i class="fa fa-check"></i>Country Flows</a></li>
<li class="chapter" data-level="" data-path="stock-flows.html"><a href="stock-flows.html"><i class="fa fa-check"></i>Stock Flows</a></li>
<li class="chapter" data-level="" data-path="geographic-focus-breakdown.html"><a href="geographic-focus-breakdown.html"><i class="fa fa-check"></i>Geographic Focus Breakdown</a>
<ul>
<li class="chapter" data-level="" data-path="geographic-focus-breakdown.html"><a href="geographic-focus-breakdown.html#stock-flows-geofocus-breakdown"><i class="fa fa-check"></i>Stock Flows GeoFocus Breakdown</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://epfr.com/" target="blank">EPFR</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EPFR Strategy Notebooks</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="flow-percentage" class="section level2 unnumbered hasAnchor">
<h2>Flow-Percentage<a href="flow-percentage.html#flow-percentage" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This chapter will cover recreating daily percentage flows for some of EPFR’s macro strategies, by retrieving data via the API. <br></p>
<p><a href="r%20downloads/API_examples.r">Download the R Script source for this chapter</a></p>
<div id="api-flow-percentage-country-strategy" class="section level3 unnumbered hasAnchor">
<h3>API Flow-Percentage Country Strategy<a href="flow-percentage.html#api-flow-percentage-country-strategy" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The Flow-Percentage Country Strategy is an equity-based rotation strategy which ranks different countries across a customized universe of both developed and emerging markets. This approach uses the stated allocations of equity funds with a cross-border focus to calculate the percentage flow for each country. <br></p>
<p>More information about this strategy can be found under <a href="flow-percentage-country-strategy.html#flow-percentage-country-strategy">Flow-Percentage Country Strategy</a>.<br><br></p>
<p>We will be recreating the country percentage flow data across all flow dates corresponding to one monthly allocation date. <br></p>
<p>Both databases use the same function epfr.get.reportid to create the report which returns data. <br>
Full documentation for the parameters of epfr.get.reportid can be in the <a href="https://developer.isimarkets.com/en/docs/epfr/api-v2/r/full-guide">API documentation</a></p>
<p><em>More about available filters, asset classes, and return value categories call the api dictionaries <a href="https://developer.isimarkets.com/en/docs/epfr/api-v2/r/quick-examples/get-dictionary-filters">available here</a> </em><br></p>
<p>The steps to recreating the flow-percentage country strategy are as follows</p>
<ul>
<li>Collect all equity country allocations</li>
<li>Collect all cross-border equity fund flows</li>
<li>Subset to funds reporting both allocations and fund flows</li>
<li>Scale monthly country allocations against daily flow/AuM for each fund</li>
<li>Divide the scaled flow by the scaled AuM to get the flow percentage for each country</li>
</ul>
</div>
<div id="api-country-allocations" class="section level3 unnumbered hasAnchor">
<h3>API Country Allocations<a href="flow-percentage.html#api-country-allocations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Retrieve the country allocations for one month for all asset classes contained in the country allocations database</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="flow-percentage.html#cb15-1" tabindex="-1"></a>alloc_month <span class="ot">&lt;-</span> <span class="st">&quot;202505&quot;</span></span>
<span id="cb15-2"><a href="flow-percentage.html#cb15-2" tabindex="-1"></a>date <span class="ot">&lt;-</span> <span class="fu">flow_to_api_date</span>(<span class="fu">yyyymm.to.day</span>(alloc_month))</span>
<span id="cb15-3"><a href="flow-percentage.html#cb15-3" tabindex="-1"></a></span>
<span id="cb15-4"><a href="flow-percentage.html#cb15-4" tabindex="-1"></a>all_acs <span class="ot">&lt;-</span> <span class="fu">as.list</span>(<span class="fu">epfr.get.dictionary.assetclasses</span>(<span class="st">&quot;CA&quot;</span>)<span class="sc">$</span>data <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="flow-percentage.html#cb15-5" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(<span class="st">&quot;Equity&quot;</span>, name)) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(id) <span class="sc">%&gt;%</span> <span class="fu">as.list</span>()) <span class="co"># ALL AVALIABLE ASSET CLASSES</span></span>
<span id="cb15-6"><a href="flow-percentage.html#cb15-6" tabindex="-1"></a></span>
<span id="cb15-7"><a href="flow-percentage.html#cb15-7" tabindex="-1"></a>report_ac <span class="ot">&lt;-</span> <span class="fu">epfr.get.reportid</span>(<span class="at">dataset =</span> <span class="st">&quot;CA&quot;</span>, </span>
<span id="cb15-8"><a href="flow-percentage.html#cb15-8" tabindex="-1"></a>                            <span class="at">from_date =</span> date, </span>
<span id="cb15-9"><a href="flow-percentage.html#cb15-9" tabindex="-1"></a>                            <span class="at">to_date =</span> date, </span>
<span id="cb15-10"><a href="flow-percentage.html#cb15-10" tabindex="-1"></a>                            <span class="at">asset_classes =</span> all_acs, </span>
<span id="cb15-11"><a href="flow-percentage.html#cb15-11" tabindex="-1"></a>                            <span class="at">frequency =</span>  <span class="st">&quot;Monthly&quot;</span>, </span>
<span id="cb15-12"><a href="flow-percentage.html#cb15-12" tabindex="-1"></a>                            <span class="at">level =</span> <span class="dv">2</span>, <span class="co"># FUND LEVEL</span></span>
<span id="cb15-13"><a href="flow-percentage.html#cb15-13" tabindex="-1"></a>                            <span class="at">categories =</span> <span class="fu">list</span>(<span class="dv">85</span>), <span class="co"># FUND ID</span></span>
<span id="cb15-14"><a href="flow-percentage.html#cb15-14" tabindex="-1"></a>                            <span class="at">average_type =</span> <span class="dv">1</span>, </span>
<span id="cb15-15"><a href="flow-percentage.html#cb15-15" tabindex="-1"></a>                            <span class="at">allocation_ids =</span> <span class="fu">as.list</span>(<span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">187</span>)), <span class="co"># ALL COUNTRIES</span></span>
<span id="cb15-16"><a href="flow-percentage.html#cb15-16" tabindex="-1"></a>                            <span class="at">assets =</span> T, </span>
<span id="cb15-17"><a href="flow-percentage.html#cb15-17" tabindex="-1"></a>                            <span class="at">universal_filters =</span> <span class="cn">NULL</span>,</span>
<span id="cb15-18"><a href="flow-percentage.html#cb15-18" tabindex="-1"></a>                            <span class="at">equity_filters =</span> <span class="cn">NULL</span>,</span>
<span id="cb15-19"><a href="flow-percentage.html#cb15-19" tabindex="-1"></a>                            <span class="at">bond_filters =</span> <span class="cn">NULL</span>,</span>
<span id="cb15-20"><a href="flow-percentage.html#cb15-20" tabindex="-1"></a>                            <span class="at">alternative_filters =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p>After the report ID is created, wait for report’s completion, then return the result.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="flow-percentage.html#cb16-1" tabindex="-1"></a>report_id_ac <span class="ot">&lt;-</span> report_ac<span class="sc">$</span>data<span class="sc">$</span>reportId</span>
<span id="cb16-2"><a href="flow-percentage.html#cb16-2" tabindex="-1"></a><span class="fu">wait_for_completion</span>(report_id_ac, <span class="st">&quot;CA&quot;</span>, <span class="at">inital_time_offset =</span> <span class="dv">20</span>, <span class="at">time_offset =</span> <span class="dv">10</span>) </span>
<span id="cb16-3"><a href="flow-percentage.html#cb16-3" tabindex="-1"></a>report_result_ca <span class="ot">&lt;-</span> <span class="fu">epfr.get.reportoutput</span>(<span class="st">&quot;CA&quot;</span>, report_id_ac) </span></code></pre></div>
<pre><code>## [1] &quot;Inital wait for report to complete, delay 20&quot;</code></pre>
<pre><code>## [1] &quot;Report complete: 20 seconds taken&quot;</code></pre>
<p>Transform data such that there is a column of Fund Ids and the rest of columns are the country allocations for each fund in the data frame.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="flow-percentage.html#cb19-1" tabindex="-1"></a>curr_alloc_data <span class="ot">&lt;-</span> report_result_ca <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="flow-percentage.html#cb19-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(Date, Fund, <span class="st">`</span><span class="at">Total Net Assets</span><span class="st">`</span>, <span class="st">`</span><span class="at">Asset Class</span><span class="st">`</span>, Filters)) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="flow-percentage.html#cb19-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(</span>
<span id="cb19-4"><a href="flow-percentage.html#cb19-4" tabindex="-1"></a>    <span class="at">.cols =</span> <span class="sc">-</span><span class="fu">c</span>(FundID),</span>
<span id="cb19-5"><a href="flow-percentage.html#cb19-5" tabindex="-1"></a>    <span class="at">.fns =</span> <span class="sc">~</span> . <span class="sc">/</span> <span class="dv">100</span></span>
<span id="cb19-6"><a href="flow-percentage.html#cb19-6" tabindex="-1"></a>  ))</span>
<span id="cb19-7"><a href="flow-percentage.html#cb19-7" tabindex="-1"></a></span>
<span id="cb19-8"><a href="flow-percentage.html#cb19-8" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">dim</span>(curr_alloc_data))</span>
<span id="cb19-9"><a href="flow-percentage.html#cb19-9" tabindex="-1"></a><span class="fu">print</span>(curr_alloc_data <span class="sc">%&gt;%</span> <span class="fu">select</span>(FundID, Australia, Brazil, China, USA) <span class="sc">%&gt;%</span> <span class="fu">top_n</span>(<span class="dv">10</span>))</span></code></pre></div>
<p>TEMP create table output</p>
<pre><code>## [1] 1745  187</code></pre>
<pre><code>## Selecting by USA</code></pre>
<pre><code>##    FundID Australia Brazil    China      USA
## 1   10959  0.000000      0 0.000000 0.766340
## 2   78120  0.000000      0 0.000000 0.768722
## 3    3701  0.000000      0 0.000000 0.819344
## 4   88963  0.008400      0 0.000000 0.876300
## 5   50111  0.013707      0 0.000585 0.805743
## 6   15342  0.000000      0 0.000000 0.762000
## 7   90008  0.000000      0 0.000000 0.982066
## 8   13663  0.004851      0 0.000000 0.844482
## 9    5168  0.004182      0 0.013083 0.784196
## 10  39696  0.000000      0 0.000356 0.765399</code></pre>
</div>
<div id="api-fund-flows" class="section level3 unnumbered hasAnchor">
<h3>API Fund Flows<a href="flow-percentage.html#api-fund-flows" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next, retrieve the fund flows for all cross border funds which report allocations data. To do this we will be querying all funds which have a cross border funds then filtering the dataframe for fund ids contained in the allocations dataframe.</p>
<p>Collect the start and end flow dates for the chosen allocation month.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="flow-percentage.html#cb23-1" tabindex="-1"></a>flow_dates <span class="ot">&lt;-</span> <span class="fu">flowdate.ex.AllocMo</span>(alloc_month)</span>
<span id="cb23-2"><a href="flow-percentage.html#cb23-2" tabindex="-1"></a>start_date_api <span class="ot">&lt;-</span> <span class="fu">flow_to_api_date</span>(flow_dates[<span class="dv">1</span>]) </span>
<span id="cb23-3"><a href="flow-percentage.html#cb23-3" tabindex="-1"></a>end_date_api <span class="ot">&lt;-</span> <span class="fu">flow_to_api_date</span>(flow_dates[<span class="fu">length</span>(flow_dates)])</span></code></pre></div>
<p>To get the cross border fund asset classes use the classif file located at TEMP.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="flow-percentage.html#cb24-1" tabindex="-1"></a>classif_geoid <span class="ot">&lt;-</span> <span class="fu">mat.read</span>(<span class="at">x=</span><span class="st">&quot;C:</span><span class="sc">\\</span><span class="st">Dropbox</span><span class="sc">\\</span><span class="st">Quantitative Research</span><span class="sc">\\</span><span class="st">Concept</span><span class="sc">\\</span><span class="st">New Model Concept</span><span class="sc">\\</span><span class="st">General</span><span class="sc">\\</span><span class="st">parameters</span><span class="sc">\\</span><span class="st">classif-GeoId.txt&quot;</span>, <span class="at">y=</span><span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>)</span>
<span id="cb24-2"><a href="flow-percentage.html#cb24-2" tabindex="-1"></a>xborder <span class="ot">&lt;-</span> classif_geoid <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="flow-percentage.html#cb24-3" tabindex="-1"></a>  <span class="fu">filter</span>(xBord <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="flow-percentage.html#cb24-4" tabindex="-1"></a>  <span class="fu">select</span>(ApiEquityId) <span class="sc">%&gt;%</span></span>
<span id="cb24-5"><a href="flow-percentage.html#cb24-5" tabindex="-1"></a>  <span class="fu">pull</span>()</span>
<span id="cb24-6"><a href="flow-percentage.html#cb24-6" tabindex="-1"></a></span>
<span id="cb24-7"><a href="flow-percentage.html#cb24-7" tabindex="-1"></a>xborder <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;FF122001&quot;</span>, <span class="st">&quot;FF121001&quot;</span>, <span class="st">&quot;FF123001&quot;</span>, <span class="st">&quot;FF122007&quot;</span>, <span class="st">&quot;FF114004&quot;</span>, <span class="st">&quot;FF114005&quot;</span>,</span>
<span id="cb24-8"><a href="flow-percentage.html#cb24-8" tabindex="-1"></a><span class="st">&quot;FF122008&quot;</span>, <span class="st">&quot;FF112001&quot;</span>, <span class="st">&quot;FF123002&quot;</span>, <span class="st">&quot;FF112002&quot;</span>, <span class="st">&quot;FF121004&quot;</span>, <span class="st">&quot;FF124005&quot;</span>,</span>
<span id="cb24-9"><a href="flow-percentage.html#cb24-9" tabindex="-1"></a><span class="st">&quot;FF122012&quot;</span>, <span class="st">&quot;FF122013&quot;</span>, <span class="st">&quot;FF111004&quot;</span>)</span></code></pre></div>
<p>Create the report id for the allocations data using the cross border ids. The report will return the fund IDs, flow USD and net assets start for each fund over the time period.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="flow-percentage.html#cb25-1" tabindex="-1"></a>report_ff <span class="ot">&lt;-</span> <span class="fu">epfr.get.reportid</span>(<span class="at">dataset =</span> <span class="st">&quot;FF&quot;</span>, </span>
<span id="cb25-2"><a href="flow-percentage.html#cb25-2" tabindex="-1"></a>                            <span class="at">from_date =</span> start_date_api, </span>
<span id="cb25-3"><a href="flow-percentage.html#cb25-3" tabindex="-1"></a>                            <span class="at">to_date =</span> end_date_api,  </span>
<span id="cb25-4"><a href="flow-percentage.html#cb25-4" tabindex="-1"></a>                            <span class="at">asset_classes =</span> xborder, </span>
<span id="cb25-5"><a href="flow-percentage.html#cb25-5" tabindex="-1"></a>                            <span class="at">frequency =</span>  <span class="st">&quot;Daily&quot;</span>, </span>
<span id="cb25-6"><a href="flow-percentage.html#cb25-6" tabindex="-1"></a>                            <span class="at">level =</span> <span class="dv">2</span>, </span>
<span id="cb25-7"><a href="flow-percentage.html#cb25-7" tabindex="-1"></a>                            <span class="at">categories =</span> <span class="fu">list</span>(<span class="dv">53</span>, <span class="dv">3</span>, <span class="dv">13</span>), <span class="co">#  FUND ID, FLOW USD, NET ASSETS START </span></span>
<span id="cb25-8"><a href="flow-percentage.html#cb25-8" tabindex="-1"></a>                            <span class="at">average_type =</span> <span class="cn">NULL</span>, </span>
<span id="cb25-9"><a href="flow-percentage.html#cb25-9" tabindex="-1"></a>                            <span class="at">allocation_ids =</span> <span class="cn">NULL</span>, </span>
<span id="cb25-10"><a href="flow-percentage.html#cb25-10" tabindex="-1"></a>                            <span class="at">assets =</span> <span class="cn">NULL</span>, </span>
<span id="cb25-11"><a href="flow-percentage.html#cb25-11" tabindex="-1"></a>                            <span class="at">universal_filters =</span> <span class="cn">NULL</span>, </span>
<span id="cb25-12"><a href="flow-percentage.html#cb25-12" tabindex="-1"></a>                            <span class="at">equity_filters =</span> <span class="cn">NULL</span>, </span>
<span id="cb25-13"><a href="flow-percentage.html#cb25-13" tabindex="-1"></a>                            <span class="at">bond_filters =</span> <span class="cn">NULL</span>, </span>
<span id="cb25-14"><a href="flow-percentage.html#cb25-14" tabindex="-1"></a>                            <span class="at">alternative_filters =</span> <span class="cn">NULL</span>)</span></code></pre></div>
<p>After creating the report wait for completion</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="flow-percentage.html#cb26-1" tabindex="-1"></a>report_id_ff <span class="ot">&lt;-</span> report_ff<span class="sc">$</span>data<span class="sc">$</span>reportId</span>
<span id="cb26-2"><a href="flow-percentage.html#cb26-2" tabindex="-1"></a><span class="fu">wait_for_completion</span>(report_id_ff, <span class="st">&quot;FF&quot;</span>, <span class="dv">30</span>, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Inital wait for report to complete, delay 30&quot;</code></pre>
<pre><code>## [1] &quot;Report complete: 30 seconds taken&quot;</code></pre>
<p>Examine the top rows of the output</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="flow-percentage.html#cb29-1" tabindex="-1"></a>report_result_ff <span class="ot">&lt;-</span> <span class="fu">epfr.get.reportoutput</span>(<span class="st">&quot;FF&quot;</span>, report_id_ff) </span>
<span id="cb29-2"><a href="flow-percentage.html#cb29-2" tabindex="-1"></a></span>
<span id="cb29-3"><a href="flow-percentage.html#cb29-3" tabindex="-1"></a>curr_flow_data <span class="ot">&lt;-</span> report_result_ff <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="flow-percentage.html#cb29-4" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(Date, FundID,<span class="st">`</span><span class="at">Flow US$ mill</span><span class="st">`</span>, <span class="st">`</span><span class="at">Total Net Assets Start</span><span class="st">`</span>))</span>
<span id="cb29-5"><a href="flow-percentage.html#cb29-5" tabindex="-1"></a></span>
<span id="cb29-6"><a href="flow-percentage.html#cb29-6" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">dim</span>(curr_flow_data))</span>
<span id="cb29-7"><a href="flow-percentage.html#cb29-7" tabindex="-1"></a><span class="fu">print</span>(curr_flow_data <span class="sc">%&gt;%</span> <span class="fu">top_n</span>(<span class="dv">10</span>))</span></code></pre></div>
<pre><code>## [1] 200629      4</code></pre>
<pre><code>## Selecting by Total Net Assets Start</code></pre>
<pre><code>##         Date FundID Flow US$ mill Total Net Assets Start
## 1  7/22/2025  14460        0.5472               164576.2
## 2  7/18/2025  14460        0.7913               163995.9
## 3  7/15/2025  14460        1.1877               164019.1
## 4  7/14/2025  14460        0.3411               163990.0
## 5  7/11/2025  14460        0.6604               165373.9
## 6  7/10/2025  14460        0.5022               165113.8
## 7   7/7/2025  14460       84.7347               164311.4
## 8   7/4/2025  14460        0.0000               164311.4
## 9   7/3/2025  14460        1.1156               164137.9
## 10  7/1/2025  14460        1.2995               163790.9</code></pre>
</div>
<div id="calculating-flow-percentage-country" class="section level3 unnumbered hasAnchor">
<h3>Calculating Flow-Percentage Country<a href="flow-percentage.html#calculating-flow-percentage-country" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To calculate the percentage flow of a country first the country allocation weighted Fund Flows and Net Assets Start must be calculated. For each fund the daily flow and net assets start is multiplied by the monthly country allocation for that fund. After the weighted flow and net assets are calculated all funds values are summed and grouped by date.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="flow-percentage.html#cb33-1" tabindex="-1"></a><span class="co"># SCALE NET ASSETS START</span></span>
<span id="cb33-2"><a href="flow-percentage.html#cb33-2" tabindex="-1"></a>net_asset_start <span class="ot">&lt;-</span> curr_alloc_data <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="flow-percentage.html#cb33-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">FundID =</span> <span class="fu">as.character</span>(FundID)) <span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="flow-percentage.html#cb33-4" tabindex="-1"></a>  <span class="fu">inner_join</span>(curr_flow_data, <span class="at">by=</span><span class="st">&quot;FundID&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-5"><a href="flow-percentage.html#cb33-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(</span>
<span id="cb33-6"><a href="flow-percentage.html#cb33-6" tabindex="-1"></a>    <span class="at">.cols =</span> <span class="sc">-</span><span class="fu">c</span>(Date, FundID, <span class="st">`</span><span class="at">Total Net Assets Start</span><span class="st">`</span>, <span class="st">`</span><span class="at">Flow US$ mill</span><span class="st">`</span>),</span>
<span id="cb33-7"><a href="flow-percentage.html#cb33-7" tabindex="-1"></a>    <span class="at">.fns =</span> <span class="sc">~</span>.<span class="sc">*</span> <span class="st">`</span><span class="at">Total Net Assets Start</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb33-8"><a href="flow-percentage.html#cb33-8" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(FundID, <span class="st">`</span><span class="at">Total Net Assets Start</span><span class="st">`</span>, <span class="st">`</span><span class="at">Flow US$ mill</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb33-9"><a href="flow-percentage.html#cb33-9" tabindex="-1"></a>  <span class="fu">group_by</span>(Date) <span class="sc">%&gt;%</span></span>
<span id="cb33-10"><a href="flow-percentage.html#cb33-10" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), sum))</span>
<span id="cb33-11"><a href="flow-percentage.html#cb33-11" tabindex="-1"></a></span>
<span id="cb33-12"><a href="flow-percentage.html#cb33-12" tabindex="-1"></a><span class="co"># SCALE FLOW</span></span>
<span id="cb33-13"><a href="flow-percentage.html#cb33-13" tabindex="-1"></a>flow <span class="ot">&lt;-</span> curr_alloc_data <span class="sc">%&gt;%</span></span>
<span id="cb33-14"><a href="flow-percentage.html#cb33-14" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">FundID =</span> <span class="fu">as.character</span>(FundID)) <span class="sc">%&gt;%</span></span>
<span id="cb33-15"><a href="flow-percentage.html#cb33-15" tabindex="-1"></a>  <span class="fu">inner_join</span>(curr_flow_data, <span class="at">by=</span><span class="st">&quot;FundID&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-16"><a href="flow-percentage.html#cb33-16" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(</span>
<span id="cb33-17"><a href="flow-percentage.html#cb33-17" tabindex="-1"></a>    <span class="at">.cols =</span> <span class="sc">-</span><span class="fu">c</span>(Date, FundID, <span class="st">`</span><span class="at">Total Net Assets Start</span><span class="st">`</span>, <span class="st">`</span><span class="at">Flow US$ mill</span><span class="st">`</span>),</span>
<span id="cb33-18"><a href="flow-percentage.html#cb33-18" tabindex="-1"></a>    <span class="at">.fns =</span> <span class="sc">~</span>.<span class="sc">*</span> <span class="st">`</span><span class="at">Flow US$ mill</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb33-19"><a href="flow-percentage.html#cb33-19" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(FundID, <span class="st">`</span><span class="at">Total Net Assets Start</span><span class="st">`</span>, <span class="st">`</span><span class="at">Flow US$ mill</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb33-20"><a href="flow-percentage.html#cb33-20" tabindex="-1"></a>  <span class="fu">group_by</span>(Date) <span class="sc">%&gt;%</span></span>
<span id="cb33-21"><a href="flow-percentage.html#cb33-21" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), sum))</span></code></pre></div>
<p>The weighted flow for each flow date is then divided by the weighted net assets start for each date and multiplied by 100 to give the flow percentage for each country on each day.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="flow-percentage.html#cb34-1" tabindex="-1"></a><span class="co"># CALCULATE FLOW PERCENTAGE</span></span>
<span id="cb34-2"><a href="flow-percentage.html#cb34-2" tabindex="-1"></a>flowpct <span class="ot">&lt;-</span> net_asset_start <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="flow-percentage.html#cb34-3" tabindex="-1"></a>  <span class="fu">inner_join</span>(flow, <span class="at">by=</span><span class="st">&quot;Date&quot;</span>, <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;_NAS&quot;</span>, <span class="st">&quot;_flow&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="flow-percentage.html#cb34-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(</span>
<span id="cb34-5"><a href="flow-percentage.html#cb34-5" tabindex="-1"></a>    <span class="at">.cols =</span> <span class="fu">ends_with</span>(<span class="st">&quot;_flow&quot;</span>),</span>
<span id="cb34-6"><a href="flow-percentage.html#cb34-6" tabindex="-1"></a>    <span class="at">.fns =</span> <span class="sc">~</span>. <span class="sc">/</span> <span class="fu">get</span>(<span class="fu">sub</span>(<span class="st">&quot;_flow$&quot;</span>, <span class="st">&quot;_NAS&quot;</span>, <span class="fu">cur_column</span>())) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb34-7"><a href="flow-percentage.html#cb34-7" tabindex="-1"></a>    <span class="at">.names =</span> <span class="st">&quot;{sub(&#39;_flow$&#39;, &#39;&#39;, .col)}_flowpct&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb34-8"><a href="flow-percentage.html#cb34-8" tabindex="-1"></a>  <span class="fu">select</span>(Date, <span class="fu">ends_with</span>(<span class="st">&quot;_flowpct&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb34-9"><a href="flow-percentage.html#cb34-9" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">chrdate_to_flowdate_vec</span>(Date)) <span class="sc">%&gt;%</span></span>
<span id="cb34-10"><a href="flow-percentage.html#cb34-10" tabindex="-1"></a>  <span class="fu">arrange</span>(Date) <span class="sc">%&gt;%</span></span>
<span id="cb34-11"><a href="flow-percentage.html#cb34-11" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">column_to_rownames</span>(<span class="at">var =</span> <span class="st">&quot;Date&quot;</span>)</span>
<span id="cb34-12"><a href="flow-percentage.html#cb34-12" tabindex="-1"></a></span>
<span id="cb34-13"><a href="flow-percentage.html#cb34-13" tabindex="-1"></a><span class="fu">names</span>(flowpct) <span class="ot">&lt;-</span> <span class="fu">sub</span>(<span class="st">&quot;_flowpct$&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="fu">names</span>(flowpct))</span>
<span id="cb34-14"><a href="flow-percentage.html#cb34-14" tabindex="-1"></a></span>
<span id="cb34-15"><a href="flow-percentage.html#cb34-15" tabindex="-1"></a><span class="fu">print</span>(flowpct <span class="sc">%&gt;%</span> <span class="fu">select</span>(Australia, Brazil, China, USA) <span class="sc">%&gt;%</span> <span class="fu">top_n</span>(<span class="dv">10</span>))</span></code></pre></div>
<pre><code>## Selecting by USA</code></pre>
<pre><code>##           Australia       Brazil       China        USA
## 20250624 0.02814600  0.010621314  0.01542774 0.03011692
## 20250627 0.07079336  0.056281552  0.06516586 0.02489238
## 20250701 0.04896777  0.084789350  0.07174432 0.07218193
## 20250703 0.03882079  0.139505120  0.16125639 0.12071612
## 20250709 0.07453717  0.035208509  0.03830671 0.01530975
## 20250711 0.06000156  0.009118258  0.02200542 0.11023197
## 20250714 0.02804328 -0.044157245 -0.02217098 0.02310832
## 20250715 0.04548059  0.026941196  0.05393027 0.02077438
## 20250718 0.03702452  0.036319201  0.07681542 0.04847699
## 20250721 0.03361252  0.013082389  0.05924426 0.02805010</code></pre>
<p>Save resulting data frame to disk</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="flow-percentage.html#cb37-1" tabindex="-1"></a>dir <span class="ot">&lt;-</span> path to your working directory</span>
<span id="cb37-2"><a href="flow-percentage.html#cb37-2" tabindex="-1"></a><span class="fu">mat.write</span>(flowpct, <span class="fu">paste0</span>(dir, <span class="st">&quot;FlowCtryPct_&quot;</span>, alloc_month ,<span class="st">&quot;.csv&quot;</span>))</span></code></pre></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="quick-start.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="api-multi-asset-region-strategy.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": true,
    "facebook": false,
    "twitter": false,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": false
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/EPFR/EPFR-QuantNotebooks/docs/00-EPFRAPI.Rmd",
    "text": "Suggest an edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
