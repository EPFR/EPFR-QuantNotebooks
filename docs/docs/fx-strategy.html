<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 FX Strategy | EPFR Strategy Notebooks</title>
  <meta name="description" content="The objective of this book is to present EPFRs proof of concept strategies so that readers have a profound understanding of how to use our EPFR’s flow and allocation dataset, construct a signal, and find initial value." />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="5 FX Strategy | EPFR Strategy Notebooks" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://epfr.github.io/EPFR-QuantNotebooks/images/cover-image.png" />
  <meta property="og:description" content="The objective of this book is to present EPFRs proof of concept strategies so that readers have a profound understanding of how to use our EPFR’s flow and allocation dataset, construct a signal, and find initial value." />
  <meta name="github-repo" content="EPFR/EPFR-QuantNotebooks" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 FX Strategy | EPFR Strategy Notebooks" />
  
  <meta name="twitter:description" content="The objective of this book is to present EPFRs proof of concept strategies so that readers have a profound understanding of how to use our EPFR’s flow and allocation dataset, construct a signal, and find initial value." />
  <meta name="twitter:image" content="https://epfr.github.io/EPFR-QuantNotebooks/images/cover-image.png" />




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="multi-asset-strategy.html"/>
<link rel="next" href="flow-percentage-country-strategy.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { font-weight: bold; } /* Alert */
code span.an { font-style: italic; } /* Annotation */
code span.cf { font-weight: bold; } /* ControlFlow */
code span.co { font-style: italic; } /* Comment */
code span.cv { font-style: italic; } /* CommentVar */
code span.do { font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.er { font-weight: bold; } /* Error */
code span.in { font-style: italic; } /* Information */
code span.kw { font-weight: bold; } /* Keyword */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.wa { font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="assets/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="images/comingsoon.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="epfr-library.html"><a href="epfr-library.html"><i class="fa fa-check"></i><b>2</b> EPFR Library</a>
<ul>
<li class="chapter" data-level="2.1" data-path="epfr-library.html"><a href="epfr-library.html#about"><i class="fa fa-check"></i><b>2.1</b> About</a></li>
<li class="chapter" data-level="2.2" data-path="epfr-library.html"><a href="epfr-library.html#set-up"><i class="fa fa-check"></i><b>2.2</b> Set up</a></li>
<li class="chapter" data-level="2.3" data-path="epfr-library.html"><a href="epfr-library.html#strategy-functions"><i class="fa fa-check"></i><b>2.3</b> Strategy Functions</a>
<ul>
<li class="chapter" data-level="" data-path="epfr-library.html"><a href="epfr-library.html#compunding-flows"><i class="fa fa-check"></i>Compunding Flows</a></li>
<li class="chapter" data-level="" data-path="epfr-library.html"><a href="epfr-library.html#model"><i class="fa fa-check"></i>Model</a></li>
<li class="chapter" data-level="" data-path="epfr-library.html"><a href="epfr-library.html#example"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="epfr-library.html"><a href="epfr-library.html#ftp"><i class="fa fa-check"></i><b>2.4</b> FTP Functions</a>
<ul>
<li class="chapter" data-level="" data-path="epfr-library.html"><a href="epfr-library.html#rcurl"><i class="fa fa-check"></i>RCurl</a></li>
<li class="chapter" data-level="" data-path="epfr-library.html"><a href="epfr-library.html#extract-ftp-file-path"><i class="fa fa-check"></i>Extract FTP File Path</a></li>
<li class="chapter" data-level="" data-path="epfr-library.html"><a href="epfr-library.html#extract-ftp-file-name"><i class="fa fa-check"></i>Extract FTP File Name</a></li>
<li class="chapter" data-level="" data-path="epfr-library.html"><a href="epfr-library.html#download-ftp-file"><i class="fa fa-check"></i>Download FTP file</a></li>
<li class="chapter" data-level="" data-path="epfr-library.html"><a href="epfr-library.html#example-1"><i class="fa fa-check"></i>Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Filters.html"><a href="Filters.html"><i class="fa fa-check"></i><b>3</b> Filters</a></li>
<li class="chapter" data-level="4" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html"><i class="fa fa-check"></i><b>4</b> Multi-Asset Strategy</a>
<ul>
<li class="chapter" data-level="4.1" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html#overview"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html#daily-percentage-flow"><i class="fa fa-check"></i><b>4.2</b> Daily Percentage Flow</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html#aggregations"><i class="fa fa-check"></i><b>4.2.1</b> Aggregations</a></li>
<li class="chapter" data-level="4.2.2" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html#calculation"><i class="fa fa-check"></i><b>4.2.2</b> Calculation</a></li>
<li class="chapter" data-level="4.2.3" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html#flow-file"><i class="fa fa-check"></i><b>4.2.3</b> Flow File</a></li>
<li class="chapter" data-level="4.2.4" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html#return-file"><i class="fa fa-check"></i><b>4.2.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html#strategy-implementation"><i class="fa fa-check"></i><b>4.3</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html#compounding-flows"><i class="fa fa-check"></i><b>4.3.1</b> Compounding Flows</a></li>
<li class="chapter" data-level="4.3.2" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html#return-file-1"><i class="fa fa-check"></i><b>4.3.2</b> Return file</a></li>
<li class="chapter" data-level="4.3.3" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html#ranking-asset-classes"><i class="fa fa-check"></i><b>4.3.3</b> Ranking Asset Classes</a></li>
<li class="chapter" data-level="4.3.4" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html#model-1"><i class="fa fa-check"></i><b>4.3.4</b> Model</a></li>
<li class="chapter" data-level="4.3.5" data-path="multi-asset-strategy.html"><a href="multi-asset-strategy.html#performance"><i class="fa fa-check"></i><b>4.3.5</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="fx-strategy.html"><a href="fx-strategy.html"><i class="fa fa-check"></i><b>5</b> FX Strategy</a>
<ul>
<li class="chapter" data-level="5.1" data-path="fx-strategy.html"><a href="fx-strategy.html#overview-1"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="fx-strategy.html"><a href="fx-strategy.html#daily-percentage-flow-1"><i class="fa fa-check"></i><b>5.2</b> Daily Percentage Flow</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="fx-strategy.html"><a href="fx-strategy.html#aggregations-1"><i class="fa fa-check"></i><b>5.2.1</b> Aggregations</a></li>
<li class="chapter" data-level="5.2.2" data-path="fx-strategy.html"><a href="fx-strategy.html#calculation-1"><i class="fa fa-check"></i><b>5.2.2</b> Calculation</a></li>
<li class="chapter" data-level="5.2.3" data-path="fx-strategy.html"><a href="fx-strategy.html#flow-file-1"><i class="fa fa-check"></i><b>5.2.3</b> Flow File</a></li>
<li class="chapter" data-level="5.2.4" data-path="fx-strategy.html"><a href="fx-strategy.html#return-file-2"><i class="fa fa-check"></i><b>5.2.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="fx-strategy.html"><a href="fx-strategy.html#strategy-implementation-1"><i class="fa fa-check"></i><b>5.3</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="fx-strategy.html"><a href="fx-strategy.html#compounding-flows-1"><i class="fa fa-check"></i><b>5.3.1</b> Compounding Flows</a></li>
<li class="chapter" data-level="5.3.2" data-path="fx-strategy.html"><a href="fx-strategy.html#ranking-currencies"><i class="fa fa-check"></i><b>5.3.2</b> Ranking Currencies</a></li>
<li class="chapter" data-level="5.3.3" data-path="fx-strategy.html"><a href="fx-strategy.html#model-2"><i class="fa fa-check"></i><b>5.3.3</b> Model</a></li>
<li class="chapter" data-level="5.3.4" data-path="fx-strategy.html"><a href="fx-strategy.html#performance-1"><i class="fa fa-check"></i><b>5.3.4</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html"><i class="fa fa-check"></i><b>6</b> Flow-Percentage Country Strategy</a>
<ul>
<li class="chapter" data-level="6.1" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html#overview-2"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html#daily-percentage-flow-2"><i class="fa fa-check"></i><b>6.2</b> Daily Percentage Flow</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html#aggregations-2"><i class="fa fa-check"></i><b>6.2.1</b> Aggregations</a></li>
<li class="chapter" data-level="6.2.2" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html#calculation-2"><i class="fa fa-check"></i><b>6.2.2</b> Calculation</a></li>
<li class="chapter" data-level="6.2.3" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html#flow-file-2"><i class="fa fa-check"></i><b>6.2.3</b> Flow File</a></li>
<li class="chapter" data-level="6.2.4" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html#return-file-3"><i class="fa fa-check"></i><b>6.2.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html#strategy-implementation-2"><i class="fa fa-check"></i><b>6.3</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html#compounding-flows-2"><i class="fa fa-check"></i><b>6.3.1</b> Compounding Flows</a></li>
<li class="chapter" data-level="6.3.2" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html#ranking-countries"><i class="fa fa-check"></i><b>6.3.2</b> Ranking Countries</a></li>
<li class="chapter" data-level="6.3.3" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html#model-3"><i class="fa fa-check"></i><b>6.3.3</b> Model</a></li>
<li class="chapter" data-level="6.3.4" data-path="flow-percentage-country-strategy.html"><a href="flow-percentage-country-strategy.html#performance-2"><i class="fa fa-check"></i><b>6.3.4</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html"><i class="fa fa-check"></i><b>7</b> Flow-Percentage Sector Strategy</a>
<ul>
<li class="chapter" data-level="7.1" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html#overview-3"><i class="fa fa-check"></i><b>7.1</b> Overview</a></li>
<li class="chapter" data-level="7.2" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html#daily-percentage-flow-3"><i class="fa fa-check"></i><b>7.2</b> Daily Percentage Flow</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html#aggregations-3"><i class="fa fa-check"></i><b>7.2.1</b> Aggregations</a></li>
<li class="chapter" data-level="7.2.2" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html#calculation-3"><i class="fa fa-check"></i><b>7.2.2</b> Calculation</a></li>
<li class="chapter" data-level="7.2.3" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html#flow-file-3"><i class="fa fa-check"></i><b>7.2.3</b> Flow File</a></li>
<li class="chapter" data-level="7.2.4" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html#return-file-4"><i class="fa fa-check"></i><b>7.2.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html#strategy-implementation-3"><i class="fa fa-check"></i><b>7.3</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html#compounding-flows-3"><i class="fa fa-check"></i><b>7.3.1</b> Compounding Flows</a></li>
<li class="chapter" data-level="7.3.2" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html#ranking-sectors"><i class="fa fa-check"></i><b>7.3.2</b> Ranking Sectors</a></li>
<li class="chapter" data-level="7.3.3" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html#model-4"><i class="fa fa-check"></i><b>7.3.3</b> Model</a></li>
<li class="chapter" data-level="7.3.4" data-path="flow-percentage-sector-strategy.html"><a href="flow-percentage-sector-strategy.html#performance-3"><i class="fa fa-check"></i><b>7.3.4</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html"><i class="fa fa-check"></i><b>8</b> Active/Passive Country Strategy</a>
<ul>
<li class="chapter" data-level="8.1" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html#overview-4"><i class="fa fa-check"></i><b>8.1</b> Overview</a></li>
<li class="chapter" data-level="8.2" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html#activepassive-indicator"><i class="fa fa-check"></i><b>8.2</b> Active/Passive Indicator</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html#aggregations-4"><i class="fa fa-check"></i><b>8.2.1</b> Aggregations</a></li>
<li class="chapter" data-level="8.2.2" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html#calculation-4"><i class="fa fa-check"></i><b>8.2.2</b> Calculation</a></li>
<li class="chapter" data-level="8.2.3" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html#aggregate-indicator-file"><i class="fa fa-check"></i><b>8.2.3</b> Aggregate Indicator File</a></li>
<li class="chapter" data-level="8.2.4" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html#return-file-5"><i class="fa fa-check"></i><b>8.2.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html#strategy-implementation-4"><i class="fa fa-check"></i><b>8.3</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html#compounding-flows-4"><i class="fa fa-check"></i><b>8.3.1</b> Compounding Flows</a></li>
<li class="chapter" data-level="8.3.2" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html#ranking-countries-1"><i class="fa fa-check"></i><b>8.3.2</b> Ranking Countries</a></li>
<li class="chapter" data-level="8.3.3" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html#model-5"><i class="fa fa-check"></i><b>8.3.3</b> Model</a></li>
<li class="chapter" data-level="8.3.4" data-path="activepassive-country-strategy.html"><a href="activepassive-country-strategy.html#performance-4"><i class="fa fa-check"></i><b>8.3.4</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html"><i class="fa fa-check"></i><b>9</b> Flow-Percentage DM Rates Strategy</a>
<ul>
<li class="chapter" data-level="9.1" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html#overview-5"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html#daily-percentage-flow-4"><i class="fa fa-check"></i><b>9.2</b> Daily Percentage Flow</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html#aggregations-5"><i class="fa fa-check"></i><b>9.2.1</b> Aggregations</a></li>
<li class="chapter" data-level="9.2.2" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html#calculation-5"><i class="fa fa-check"></i><b>9.2.2</b> Calculation</a></li>
<li class="chapter" data-level="9.2.3" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html#flow-file-4"><i class="fa fa-check"></i><b>9.2.3</b> Flow File</a></li>
<li class="chapter" data-level="9.2.4" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html#return-file-6"><i class="fa fa-check"></i><b>9.2.4</b> Return File</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html#strategy-implementation-5"><i class="fa fa-check"></i><b>9.3</b> Strategy Implementation</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html#compounding-flows-5"><i class="fa fa-check"></i><b>9.3.1</b> Compounding Flows</a></li>
<li class="chapter" data-level="9.3.2" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html#ranking-countries-2"><i class="fa fa-check"></i><b>9.3.2</b> Ranking Countries</a></li>
<li class="chapter" data-level="9.3.3" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html#model-6"><i class="fa fa-check"></i><b>9.3.3</b> Model</a></li>
<li class="chapter" data-level="9.3.4" data-path="flow-percentage-dm-rates-strategy.html"><a href="flow-percentage-dm-rates-strategy.html#performance-5"><i class="fa fa-check"></i><b>9.3.4</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="FAQ.html"><a href="FAQ.html"><i class="fa fa-check"></i><b>10</b> FAQ</a>
<ul>
<li class="chapter" data-level="10.1" data-path="FAQ.html"><a href="FAQ.html#Rets"><i class="fa fa-check"></i><b>10.1</b> Returns Information</a></li>
<li class="chapter" data-level="10.2" data-path="FAQ.html"><a href="FAQ.html#country-flows"><i class="fa fa-check"></i><b>10.2</b> Country Flows</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://epfr.com/" target="blank">EPFR</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EPFR Strategy Notebooks</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="fx-strategy" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> FX Strategy<a href="fx-strategy.html#fx-strategy" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="overview-1" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Overview<a href="fx-strategy.html#overview-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <em>FX Strategy</em> an equity based currency rotation strategy, which ranks different foreign exchange markets of countries across a customized universe of both developed and emerging markets.</p>
<p>This approach uses the stated allocations of equity funds with a cross-border focus and calculates percentage flow into currencies. In terms of twenty-day percentage flows, the top fifth of ACWI currencies outperform the bottom fifth by over 4% per year. The strategy works best amongst G10 currencies, but adds value across the board.</p>
<hr />
</div>
<div id="daily-percentage-flow-1" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Daily Percentage Flow<a href="fx-strategy.html#daily-percentage-flow-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <em>FX Strategy</em> developed by EPFR Global is based on percentage flow into currencies. In this section, the reader will gain an understanding of the aggregations which can be used to create a signal as well as the methodology behind daily percentage flow calculations.</p>
<hr />
<div id="aggregations-1" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Aggregations<a href="fx-strategy.html#aggregations-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The first step is defining a subset of data to capture in calculating our signal.</p>
<p>This strategy requires;</p>
<ul>
<li><p>Equity funds with a cross-boarder focus. These are essentially any fund that has a mandate spanning more than one country. The vast majority of these will be global and regional funds.</p></li>
<li><p>Funds must report both daily flows and country allocations, since these values are needed to calculate Daily Percentage Flow.</p></li>
</ul>
<p>Cross-border equity funds, which report their country allocations and their fund flows, are a subset of those that only report their fund flows to EPFR. The figure below shows EPFR’s coverage of this universe over time compared to our total coverage.</p>
<center>
<div class="figure">
<img src="https://raw.githubusercontent.com/oliviablasz/EPFRNotebooks_v1/main/png/coverage_ctryequity.png" width="250" alt="" />
<p class="caption">Updated at the end of July each year</p>
</div>
</center>
<p>Users looking for more specific detail can customize this aggregation even further using EPFR’s fund-level or share class-level granularity. Some good examples would be Active/Passive, ETF or Mutual funds, Institutional or Retail. Users can use these tags to different degrees in creating aggregated signals to backtest. Further detail about this is available in section <a href="Filters.html#Filters">3</a>.</p>
<p>This can be achieved using fund-level flow files or reaching out to EPFR’s quant team for customized aggregations.</p>
<hr />
</div>
<div id="calculation-1" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Calculation<a href="fx-strategy.html#calculation-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To begin calculating the Daily Percentage flow, we start with our subset of cross-border equity funds. To calculate the fund’s impact on a currency, we scale a fund’s flow by multiplying it against its stated country allocation to countries using that currency, which is available in EPFR’s Country Allocation Database, on that day. EPFR releases country allocations of all funds on the <span class="math inline">\(23^{\text{rd}}\)</span> of each month (or the next available business day) at a monthly frequency. Hence, our calculation assumes constant country allocation between two consecutive release dates within the month.</p>
<p>We then apply the same procedure to all funds with a fund flow and country allocation information and then sum the flows for each currency across all funds.</p>
<p><span class="math display">\[\text{Total Impact}_{c,t} = \sum^{N}_{i=m}{\text{Flow}_i \times \text{Allocation}_i}\]</span>
Where:</p>
<ul>
<li><span class="math inline">\(\text{Total Impact}\)</span> = the impact on a currency <span class="math inline">\(c\)</span>, across all funds <span class="math inline">\(i\)</span>, for day <span class="math inline">\(t\)</span></li>
</ul>
<p>Additionally, we repeat the process across the same fund’s Assets held under Management (AuM), to get the total AuM held in a country.</p>
<p><span class="math display">\[\text{Total AuM}_{c,t} = \sum^{N}_{i=m}{\text{AuM}_i \times \text{Allocation}_i}\]</span></p>
<p>Where:</p>
<ul>
<li><span class="math inline">\(\text{Total AuM}\)</span> = the assets held in a currency <span class="math inline">\(c\)</span>, across all funds <span class="math inline">\(i\)</span>, for day <span class="math inline">\(t\)</span></li>
</ul>
<p>Finally, to find the daily percentage flow into a currency, we divide the Total Impact by the Total AuM. Then we repeat this across all different currencies for the entire history.</p>
<p><span class="math display">\[\text{Percentage Flow}_{c,t} = \frac{\text{Total Impact}_{c,t}}{\text{Total AuM}_{c,t}}\]</span>
Where:</p>
<ul>
<li><span class="math inline">\(\text{Percentage Flow}\)</span> = the scaled flow as a percentage into a currency <span class="math inline">\(c\)</span>, across all funds <span class="math inline">\(i\)</span>, for day <span class="math inline">\(t\)</span></li>
</ul>
<hr />
</div>
<div id="flow-file-1" class="section level3 hasAnchor" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Flow File<a href="fx-strategy.html#flow-file-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The users may create flow percentages for their desired FX aggregations and granularity using the methodology described in the previous section.</p>
<p>EPFR also provides a pre-calculated aggregation for its users for the <em>FX Strategy</em>. This file can be found on the FTP under the strategies folder. Please refer to the FTP Folder Structure section for the exact location of this file. This file contains daily flow data for 37 currencies and is updated daily at 5:00 PM est. with a T+1 day lag.</p>
<p>For this demonstration, we use the pre-calculated file <strong>FX-daily.csv</strong>. Below shows a snippet of what this file contains.</p>
<table class=" lightable-paper lightable-hover table" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
ARS
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
AUD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
BRL
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CAD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CHF
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CLP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CNY
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CZK
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
EGP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
GBP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
HUF
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
IDR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
ILS
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
INR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
JPY
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
KRW
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
MXN
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
MYR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
NOK
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
NZD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PEN
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PHP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PLN
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
RUB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
SEK
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
SGD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
THB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
TRY
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
TWD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
ZAR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
USD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
EUR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
COP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PKR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
MAD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
VND
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
KWD
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
20211101
</td>
<td style="text-align:right;">
0.0951956
</td>
<td style="text-align:right;">
0.0233905
</td>
<td style="text-align:right;">
0.0531035
</td>
<td style="text-align:right;">
0.0202649
</td>
<td style="text-align:right;">
0.0136956
</td>
<td style="text-align:right;">
0.0124597
</td>
<td style="text-align:right;">
0.0367144
</td>
<td style="text-align:right;">
0.0407582
</td>
<td style="text-align:right;">
-0.0099286
</td>
<td style="text-align:right;">
0.0090056
</td>
<td style="text-align:right;">
0.0118883
</td>
<td style="text-align:right;">
0.1026345
</td>
<td style="text-align:right;">
0.0227167
</td>
<td style="text-align:right;">
0.0737441
</td>
<td style="text-align:right;">
0.0112211
</td>
<td style="text-align:right;">
0.0301935
</td>
<td style="text-align:right;">
0.0528308
</td>
<td style="text-align:right;">
0.0424596
</td>
<td style="text-align:right;">
0.0250291
</td>
<td style="text-align:right;">
0.0173961
</td>
<td style="text-align:right;">
0.0983880
</td>
<td style="text-align:right;">
0.0163313
</td>
<td style="text-align:right;">
0.0203153
</td>
<td style="text-align:right;">
0.0215331
</td>
<td style="text-align:right;">
0.0123521
</td>
<td style="text-align:right;">
0.0900571
</td>
<td style="text-align:right;">
0.0397868
</td>
<td style="text-align:right;">
0.0233967
</td>
<td style="text-align:right;">
0.0497635
</td>
<td style="text-align:right;">
0.0189636
</td>
<td style="text-align:right;">
0.0685452
</td>
<td style="text-align:right;">
0.0189129
</td>
<td style="text-align:right;">
0.0224357
</td>
<td style="text-align:right;">
0.0303562
</td>
<td style="text-align:right;">
-0.0103072
</td>
<td style="text-align:right;">
0.8665646
</td>
<td style="text-align:right;">
0.0194010
</td>
</tr>
<tr>
<td style="text-align:left;">
20211102
</td>
<td style="text-align:right;">
0.0942688
</td>
<td style="text-align:right;">
0.1720646
</td>
<td style="text-align:right;">
0.0354197
</td>
<td style="text-align:right;">
0.0926433
</td>
<td style="text-align:right;">
0.1266238
</td>
<td style="text-align:right;">
0.0483671
</td>
<td style="text-align:right;">
0.0439027
</td>
<td style="text-align:right;">
0.0997758
</td>
<td style="text-align:right;">
0.0577666
</td>
<td style="text-align:right;">
0.1349584
</td>
<td style="text-align:right;">
0.0443015
</td>
<td style="text-align:right;">
0.0569077
</td>
<td style="text-align:right;">
0.1323832
</td>
<td style="text-align:right;">
0.0365911
</td>
<td style="text-align:right;">
0.1419282
</td>
<td style="text-align:right;">
0.0531659
</td>
<td style="text-align:right;">
0.0390083
</td>
<td style="text-align:right;">
0.0445662
</td>
<td style="text-align:right;">
0.1255181
</td>
<td style="text-align:right;">
0.1113622
</td>
<td style="text-align:right;">
0.0203433
</td>
<td style="text-align:right;">
0.0313609
</td>
<td style="text-align:right;">
0.0642350
</td>
<td style="text-align:right;">
0.0238631
</td>
<td style="text-align:right;">
0.1268904
</td>
<td style="text-align:right;">
0.1101238
</td>
<td style="text-align:right;">
0.0296805
</td>
<td style="text-align:right;">
0.0237125
</td>
<td style="text-align:right;">
0.0333732
</td>
<td style="text-align:right;">
0.0499104
</td>
<td style="text-align:right;">
0.0734126
</td>
<td style="text-align:right;">
0.0871499
</td>
<td style="text-align:right;">
0.0279508
</td>
<td style="text-align:right;">
0.1460037
</td>
<td style="text-align:right;">
0.4337403
</td>
<td style="text-align:right;">
0.2818899
</td>
<td style="text-align:right;">
0.0219654
</td>
</tr>
<tr>
<td style="text-align:left;">
20211103
</td>
<td style="text-align:right;">
0.1089451
</td>
<td style="text-align:right;">
0.0281285
</td>
<td style="text-align:right;">
0.0119845
</td>
<td style="text-align:right;">
0.0444364
</td>
<td style="text-align:right;">
0.0277638
</td>
<td style="text-align:right;">
0.0629838
</td>
<td style="text-align:right;">
-0.0350514
</td>
<td style="text-align:right;">
0.0068424
</td>
<td style="text-align:right;">
0.0119071
</td>
<td style="text-align:right;">
0.0291382
</td>
<td style="text-align:right;">
-0.1047347
</td>
<td style="text-align:right;">
-0.0518616
</td>
<td style="text-align:right;">
0.0345525
</td>
<td style="text-align:right;">
-0.0505650
</td>
<td style="text-align:right;">
0.0315910
</td>
<td style="text-align:right;">
-0.0571837
</td>
<td style="text-align:right;">
0.0040123
</td>
<td style="text-align:right;">
-0.0116749
</td>
<td style="text-align:right;">
0.0233558
</td>
<td style="text-align:right;">
0.0178623
</td>
<td style="text-align:right;">
0.1200862
</td>
<td style="text-align:right;">
0.0187043
</td>
<td style="text-align:right;">
0.0137464
</td>
<td style="text-align:right;">
-0.1117925
</td>
<td style="text-align:right;">
0.0391676
</td>
<td style="text-align:right;">
0.0475302
</td>
<td style="text-align:right;">
-0.0179925
</td>
<td style="text-align:right;">
-0.0101861
</td>
<td style="text-align:right;">
-0.0450093
</td>
<td style="text-align:right;">
-0.0520347
</td>
<td style="text-align:right;">
0.0805151
</td>
<td style="text-align:right;">
0.0191132
</td>
<td style="text-align:right;">
0.0292842
</td>
<td style="text-align:right;">
0.0274489
</td>
<td style="text-align:right;">
0.0643956
</td>
<td style="text-align:right;">
0.0460473
</td>
<td style="text-align:right;">
0.0091691
</td>
</tr>
<tr>
<td style="text-align:left;">
20211104
</td>
<td style="text-align:right;">
0.1709919
</td>
<td style="text-align:right;">
-0.0259282
</td>
<td style="text-align:right;">
0.0564485
</td>
<td style="text-align:right;">
0.0874951
</td>
<td style="text-align:right;">
0.0043956
</td>
<td style="text-align:right;">
0.0467287
</td>
<td style="text-align:right;">
0.0444763
</td>
<td style="text-align:right;">
0.0745158
</td>
<td style="text-align:right;">
0.0684307
</td>
<td style="text-align:right;">
-0.0166590
</td>
<td style="text-align:right;">
0.0797765
</td>
<td style="text-align:right;">
0.0305560
</td>
<td style="text-align:right;">
0.0520806
</td>
<td style="text-align:right;">
0.0258512
</td>
<td style="text-align:right;">
0.0087418
</td>
<td style="text-align:right;">
0.0312389
</td>
<td style="text-align:right;">
0.0481343
</td>
<td style="text-align:right;">
0.0384663
</td>
<td style="text-align:right;">
0.0556068
</td>
<td style="text-align:right;">
0.0611684
</td>
<td style="text-align:right;">
0.0294905
</td>
<td style="text-align:right;">
0.0120414
</td>
<td style="text-align:right;">
0.0888283
</td>
<td style="text-align:right;">
0.0753834
</td>
<td style="text-align:right;">
0.0201077
</td>
<td style="text-align:right;">
0.0511059
</td>
<td style="text-align:right;">
0.0432660
</td>
<td style="text-align:right;">
0.0708349
</td>
<td style="text-align:right;">
0.0285761
</td>
<td style="text-align:right;">
0.0572320
</td>
<td style="text-align:right;">
0.0638265
</td>
<td style="text-align:right;">
0.0284550
</td>
<td style="text-align:right;">
-0.0555654
</td>
<td style="text-align:right;">
0.0271469
</td>
<td style="text-align:right;">
0.1155251
</td>
<td style="text-align:right;">
0.0171987
</td>
<td style="text-align:right;">
0.0251618
</td>
</tr>
<tr>
<td style="text-align:left;">
20211105
</td>
<td style="text-align:right;">
0.0811163
</td>
<td style="text-align:right;">
0.1188916
</td>
<td style="text-align:right;">
0.0800062
</td>
<td style="text-align:right;">
0.0734998
</td>
<td style="text-align:right;">
0.0777874
</td>
<td style="text-align:right;">
0.0776826
</td>
<td style="text-align:right;">
0.0057655
</td>
<td style="text-align:right;">
0.0836201
</td>
<td style="text-align:right;">
0.0531953
</td>
<td style="text-align:right;">
0.0844895
</td>
<td style="text-align:right;">
0.0276116
</td>
<td style="text-align:right;">
0.0705703
</td>
<td style="text-align:right;">
0.0725028
</td>
<td style="text-align:right;">
0.0420120
</td>
<td style="text-align:right;">
0.0905879
</td>
<td style="text-align:right;">
0.0299950
</td>
<td style="text-align:right;">
0.0407647
</td>
<td style="text-align:right;">
0.0050806
</td>
<td style="text-align:right;">
0.0596630
</td>
<td style="text-align:right;">
0.0803083
</td>
<td style="text-align:right;">
0.1076447
</td>
<td style="text-align:right;">
0.0376676
</td>
<td style="text-align:right;">
0.0586687
</td>
<td style="text-align:right;">
0.0104820
</td>
<td style="text-align:right;">
0.0812884
</td>
<td style="text-align:right;">
0.0810288
</td>
<td style="text-align:right;">
0.0379855
</td>
<td style="text-align:right;">
-0.1275677
</td>
<td style="text-align:right;">
0.0186814
</td>
<td style="text-align:right;">
0.0148055
</td>
<td style="text-align:right;">
0.0585696
</td>
<td style="text-align:right;">
0.0532085
</td>
<td style="text-align:right;">
0.1140662
</td>
<td style="text-align:right;">
0.0360098
</td>
<td style="text-align:right;">
0.0395516
</td>
<td style="text-align:right;">
0.2613120
</td>
<td style="text-align:right;">
0.0587149
</td>
</tr>
<tr>
<td style="text-align:left;">
20211108
</td>
<td style="text-align:right;">
0.1190233
</td>
<td style="text-align:right;">
0.0493196
</td>
<td style="text-align:right;">
0.0734154
</td>
<td style="text-align:right;">
0.0765835
</td>
<td style="text-align:right;">
0.0388529
</td>
<td style="text-align:right;">
0.0709732
</td>
<td style="text-align:right;">
-0.0219888
</td>
<td style="text-align:right;">
0.0400470
</td>
<td style="text-align:right;">
0.0860873
</td>
<td style="text-align:right;">
0.0218624
</td>
<td style="text-align:right;">
0.0117260
</td>
<td style="text-align:right;">
0.0381564
</td>
<td style="text-align:right;">
0.0477718
</td>
<td style="text-align:right;">
0.0318928
</td>
<td style="text-align:right;">
0.0512294
</td>
<td style="text-align:right;">
0.0285295
</td>
<td style="text-align:right;">
0.0356488
</td>
<td style="text-align:right;">
0.0659128
</td>
<td style="text-align:right;">
-0.0015951
</td>
<td style="text-align:right;">
0.0117628
</td>
<td style="text-align:right;">
0.0458379
</td>
<td style="text-align:right;">
0.0270478
</td>
<td style="text-align:right;">
0.0694772
</td>
<td style="text-align:right;">
0.0586824
</td>
<td style="text-align:right;">
0.0310111
</td>
<td style="text-align:right;">
0.0067519
</td>
<td style="text-align:right;">
0.0474835
</td>
<td style="text-align:right;">
0.0182717
</td>
<td style="text-align:right;">
0.0363691
</td>
<td style="text-align:right;">
0.0662294
</td>
<td style="text-align:right;">
0.0588712
</td>
<td style="text-align:right;">
0.0100783
</td>
<td style="text-align:right;">
0.0906876
</td>
<td style="text-align:right;">
0.1440479
</td>
<td style="text-align:right;">
0.3945202
</td>
<td style="text-align:right;">
0.1805212
</td>
<td style="text-align:right;">
0.0545738
</td>
</tr>
</tbody>
</table>
<p>We will download this file from the ftp and store it in local folder <em>EPFR/daily</em> using <code>ftp.get()</code>, more about this function can be referred to in section <a href="epfr-library.html#ftp">2.4</a>.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="fx-strategy.html#cb37-1" aria-hidden="true" tabindex="-1"></a>file <span class="ot">&lt;-</span> <span class="st">&quot;/Strategies/daily/FX-daily.csv&quot;</span> <span class="co"># PATH TO .csv FILE</span></span>
<span id="cb37-2"><a href="fx-strategy.html#cb37-2" aria-hidden="true" tabindex="-1"></a>fldr <span class="ot">&lt;-</span> <span class="st">&quot;C:</span><span class="sc">\\</span><span class="st">EPFR</span><span class="sc">\\</span><span class="st">daily&quot;</span> <span class="co"># LOCAL FOLDER</span></span>
<span id="cb37-3"><a href="fx-strategy.html#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="fx-strategy.html#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ftp.get</span>(file, fldr, <span class="st">&quot;filetransport.epfrglobal.com&quot;</span>, <span class="at">w =</span> <span class="st">&quot;username&quot;</span>, <span class="at">h =</span> <span class="st">&quot;password&quot;</span>, <span class="st">&quot;ftp&quot;</span>) <span class="co"># DOWNLOADS FILE FROM FTP TO LOCAL FOLDER, USING CREDENTIALS</span></span></code></pre></div>
<p>After downloading the csv file you will store it’s path as <code>flow.file</code>. A quick way to do this is shown below:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="fx-strategy.html#cb38-1" aria-hidden="true" tabindex="-1"></a>flow.file <span class="ot">&lt;-</span> <span class="fu">paste</span>(fldr, <span class="fu">ftp.file</span>(file), <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">&quot;</span>) <span class="co"># STORES FLOW FILE PATH, C:\\EPFR\\daily\\FX-daily.csv</span></span></code></pre></div>
<!-- ```{r, include=F} -->
<!-- flow.file <- strat.path("FX", "daily") # PATH TO FLOW PERCENTAGE .csv FILE      -->
<!-- ``` -->
<hr />
</div>
<div id="return-file-2" class="section level3 hasAnchor" number="5.2.4">
<h3><span class="header-section-number">5.2.4</span> Return File<a href="fx-strategy.html#return-file-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The return file for this strategy should contain daily Exchange rates for each of the currencies in the flow file, which the user can find with their own resources.</p>
<p>For this demonstration, we will the file, which is locally stored in the folder <em>EPFR/returns</em> and has been named <em>ExchRates.csv</em>.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="fx-strategy.html#cb39-1" aria-hidden="true" tabindex="-1"></a>ret.file <span class="ot">&lt;-</span> <span class="st">&quot;C:</span><span class="sc">\\</span><span class="st">EPFR</span><span class="sc">\\</span><span class="st">returns</span><span class="sc">\\</span><span class="st">ExchRates.csv&quot;</span></span></code></pre></div>
<!-- ```{r, include=F} -->
<!-- ret.file <- paste0(fcn.dir(), "\\New Model Concept\\FX\\FloMo\\csv\\ExchRates.csv") -->
<!-- ``` -->
<p>For your reference a snippet of our return file looks like this</p>
<table class=" lightable-paper lightable-hover table" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
XDR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
AUD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
EGP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
INR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
MXN
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
NZD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
QAR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
TRY
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
ZAR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
ARS
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
BRL
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
EUR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
IDR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
KRW
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
NOK
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PHP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
SEK
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CAD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CHF
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CLP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
HUF
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
JPY
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PEN
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
RUB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
TWD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CNY
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CZK
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
GBP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
ILS
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
MYR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PLN
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
SGD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
THB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
JOR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PKR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
MAD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
COP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CNH
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
VND
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
KWD
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
20211101
</td>
<td style="text-align:right;">
1.41082
</td>
<td style="text-align:right;">
1.3294
</td>
<td style="text-align:right;">
15.7013
</td>
<td style="text-align:right;">
74.8737
</td>
<td style="text-align:right;">
20.8426
</td>
<td style="text-align:right;">
1.3914
</td>
<td style="text-align:right;">
3.6413
</td>
<td style="text-align:right;">
9.5398
</td>
<td style="text-align:right;">
15.4295
</td>
<td style="text-align:right;">
99.8178
</td>
<td style="text-align:right;">
5.6863
</td>
<td style="text-align:right;">
0.8616
</td>
<td style="text-align:right;">
14248
</td>
<td style="text-align:right;">
1176.55
</td>
<td style="text-align:right;">
8.4063
</td>
<td style="text-align:right;">
50.420
</td>
<td style="text-align:right;">
8.5196
</td>
<td style="text-align:right;">
1.2369
</td>
<td style="text-align:right;">
0.9091
</td>
<td style="text-align:right;">
814.50
</td>
<td style="text-align:right;">
310.85
</td>
<td style="text-align:right;">
114.00
</td>
<td style="text-align:right;">
3.9915
</td>
<td style="text-align:right;">
71.5655
</td>
<td style="text-align:right;">
27.847
</td>
<td style="text-align:right;">
6.3977
</td>
<td style="text-align:right;">
22.0433
</td>
<td style="text-align:right;">
0.7318
</td>
<td style="text-align:right;">
3.1118
</td>
<td style="text-align:right;">
4.1515
</td>
<td style="text-align:right;">
3.9776
</td>
<td style="text-align:right;">
1.3485
</td>
<td style="text-align:right;">
33.455
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
171.9875
</td>
<td style="text-align:right;">
9.0679
</td>
<td style="text-align:right;">
3767.37
</td>
<td style="text-align:right;">
6.3942
</td>
<td style="text-align:right;">
22753
</td>
<td style="text-align:right;">
0.30175
</td>
</tr>
<tr>
<td style="text-align:left;">
20211102
</td>
<td style="text-align:right;">
1.41229
</td>
<td style="text-align:right;">
1.3459
</td>
<td style="text-align:right;">
15.7013
</td>
<td style="text-align:right;">
74.6850
</td>
<td style="text-align:right;">
20.7844
</td>
<td style="text-align:right;">
1.4060
</td>
<td style="text-align:right;">
3.6413
</td>
<td style="text-align:right;">
9.6039
</td>
<td style="text-align:right;">
15.4431
</td>
<td style="text-align:right;">
99.8679
</td>
<td style="text-align:right;">
5.6863
</td>
<td style="text-align:right;">
0.8636
</td>
<td style="text-align:right;">
14253
</td>
<td style="text-align:right;">
1174.40
</td>
<td style="text-align:right;">
8.5277
</td>
<td style="text-align:right;">
50.385
</td>
<td style="text-align:right;">
8.5747
</td>
<td style="text-align:right;">
1.2411
</td>
<td style="text-align:right;">
0.9146
</td>
<td style="text-align:right;">
812.70
</td>
<td style="text-align:right;">
310.30
</td>
<td style="text-align:right;">
113.96
</td>
<td style="text-align:right;">
4.0086
</td>
<td style="text-align:right;">
71.5587
</td>
<td style="text-align:right;">
27.844
</td>
<td style="text-align:right;">
6.4000
</td>
<td style="text-align:right;">
22.0850
</td>
<td style="text-align:right;">
0.7344
</td>
<td style="text-align:right;">
3.1341
</td>
<td style="text-align:right;">
4.1487
</td>
<td style="text-align:right;">
3.9801
</td>
<td style="text-align:right;">
1.3491
</td>
<td style="text-align:right;">
33.247
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
171.9875
</td>
<td style="text-align:right;">
9.0760
</td>
<td style="text-align:right;">
3795.98
</td>
<td style="text-align:right;">
6.4028
</td>
<td style="text-align:right;">
22744
</td>
<td style="text-align:right;">
0.30165
</td>
</tr>
<tr>
<td style="text-align:left;">
20211103
</td>
<td style="text-align:right;">
1.41165
</td>
<td style="text-align:right;">
1.3428
</td>
<td style="text-align:right;">
15.7013
</td>
<td style="text-align:right;">
74.4600
</td>
<td style="text-align:right;">
20.5391
</td>
<td style="text-align:right;">
1.3964
</td>
<td style="text-align:right;">
3.6415
</td>
<td style="text-align:right;">
9.6447
</td>
<td style="text-align:right;">
15.2702
</td>
<td style="text-align:right;">
99.9104
</td>
<td style="text-align:right;">
5.5533
</td>
<td style="text-align:right;">
0.8612
</td>
<td style="text-align:right;">
14298
</td>
<td style="text-align:right;">
1181.60
</td>
<td style="text-align:right;">
8.5071
</td>
<td style="text-align:right;">
50.570
</td>
<td style="text-align:right;">
8.5383
</td>
<td style="text-align:right;">
1.2391
</td>
<td style="text-align:right;">
0.9118
</td>
<td style="text-align:right;">
812.75
</td>
<td style="text-align:right;">
308.91
</td>
<td style="text-align:right;">
114.01
</td>
<td style="text-align:right;">
4.0125
</td>
<td style="text-align:right;">
71.7646
</td>
<td style="text-align:right;">
27.847
</td>
<td style="text-align:right;">
6.4066
</td>
<td style="text-align:right;">
21.9603
</td>
<td style="text-align:right;">
0.7307
</td>
<td style="text-align:right;">
3.1179
</td>
<td style="text-align:right;">
4.1540
</td>
<td style="text-align:right;">
3.9457
</td>
<td style="text-align:right;">
1.3478
</td>
<td style="text-align:right;">
33.315
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
169.9842
</td>
<td style="text-align:right;">
9.0661
</td>
<td style="text-align:right;">
3834.24
</td>
<td style="text-align:right;">
6.3948
</td>
<td style="text-align:right;">
22743
</td>
<td style="text-align:right;">
0.30165
</td>
</tr>
<tr>
<td style="text-align:left;">
20211104
</td>
<td style="text-align:right;">
1.40951
</td>
<td style="text-align:right;">
1.3513
</td>
<td style="text-align:right;">
15.7010
</td>
<td style="text-align:right;">
74.4600
</td>
<td style="text-align:right;">
20.5443
</td>
<td style="text-align:right;">
1.4080
</td>
<td style="text-align:right;">
3.6417
</td>
<td style="text-align:right;">
9.7039
</td>
<td style="text-align:right;">
15.2169
</td>
<td style="text-align:right;">
99.9493
</td>
<td style="text-align:right;">
5.6035
</td>
<td style="text-align:right;">
0.8654
</td>
<td style="text-align:right;">
14338
</td>
<td style="text-align:right;">
1182.65
</td>
<td style="text-align:right;">
8.5559
</td>
<td style="text-align:right;">
50.615
</td>
<td style="text-align:right;">
8.5900
</td>
<td style="text-align:right;">
1.2456
</td>
<td style="text-align:right;">
0.9127
</td>
<td style="text-align:right;">
814.31
</td>
<td style="text-align:right;">
311.80
</td>
<td style="text-align:right;">
113.76
</td>
<td style="text-align:right;">
4.0139
</td>
<td style="text-align:right;">
71.7646
</td>
<td style="text-align:right;">
27.860
</td>
<td style="text-align:right;">
6.3972
</td>
<td style="text-align:right;">
21.9440
</td>
<td style="text-align:right;">
0.7407
</td>
<td style="text-align:right;">
3.1084
</td>
<td style="text-align:right;">
4.1540
</td>
<td style="text-align:right;">
3.9827
</td>
<td style="text-align:right;">
1.3511
</td>
<td style="text-align:right;">
33.410
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
169.9625
</td>
<td style="text-align:right;">
9.0867
</td>
<td style="text-align:right;">
3869.34
</td>
<td style="text-align:right;">
6.3974
</td>
<td style="text-align:right;">
22686
</td>
<td style="text-align:right;">
0.30165
</td>
</tr>
<tr>
<td style="text-align:left;">
20211105
</td>
<td style="text-align:right;">
1.40747
</td>
<td style="text-align:right;">
1.3513
</td>
<td style="text-align:right;">
15.7010
</td>
<td style="text-align:right;">
74.4600
</td>
<td style="text-align:right;">
20.3434
</td>
<td style="text-align:right;">
1.4047
</td>
<td style="text-align:right;">
3.6417
</td>
<td style="text-align:right;">
9.6922
</td>
<td style="text-align:right;">
15.0529
</td>
<td style="text-align:right;">
99.9498
</td>
<td style="text-align:right;">
5.5423
</td>
<td style="text-align:right;">
0.8644
</td>
<td style="text-align:right;">
14328
</td>
<td style="text-align:right;">
1185.05
</td>
<td style="text-align:right;">
8.5590
</td>
<td style="text-align:right;">
50.345
</td>
<td style="text-align:right;">
8.5711
</td>
<td style="text-align:right;">
1.2457
</td>
<td style="text-align:right;">
0.9127
</td>
<td style="text-align:right;">
811.55
</td>
<td style="text-align:right;">
310.26
</td>
<td style="text-align:right;">
113.41
</td>
<td style="text-align:right;">
4.0105
</td>
<td style="text-align:right;">
71.2684
</td>
<td style="text-align:right;">
27.874
</td>
<td style="text-align:right;">
6.3988
</td>
<td style="text-align:right;">
21.8231
</td>
<td style="text-align:right;">
0.7409
</td>
<td style="text-align:right;">
3.1112
</td>
<td style="text-align:right;">
4.1588
</td>
<td style="text-align:right;">
3.9750
</td>
<td style="text-align:right;">
1.3502
</td>
<td style="text-align:right;">
33.320
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
169.9625
</td>
<td style="text-align:right;">
9.0781
</td>
<td style="text-align:right;">
3878.85
</td>
<td style="text-align:right;">
6.3944
</td>
<td style="text-align:right;">
22698
</td>
<td style="text-align:right;">
0.30165
</td>
</tr>
<tr>
<td style="text-align:left;">
20211108
</td>
<td style="text-align:right;">
1.41024
</td>
<td style="text-align:right;">
1.3471
</td>
<td style="text-align:right;">
15.7010
</td>
<td style="text-align:right;">
74.0237
</td>
<td style="text-align:right;">
20.3424
</td>
<td style="text-align:right;">
1.3952
</td>
<td style="text-align:right;">
3.6417
</td>
<td style="text-align:right;">
9.6853
</td>
<td style="text-align:right;">
14.9184
</td>
<td style="text-align:right;">
100.0605
</td>
<td style="text-align:right;">
5.5423
</td>
<td style="text-align:right;">
0.8630
</td>
<td style="text-align:right;">
14258
</td>
<td style="text-align:right;">
1183.20
</td>
<td style="text-align:right;">
8.5045
</td>
<td style="text-align:right;">
50.175
</td>
<td style="text-align:right;">
8.5765
</td>
<td style="text-align:right;">
1.2442
</td>
<td style="text-align:right;">
0.9133
</td>
<td style="text-align:right;">
802.58
</td>
<td style="text-align:right;">
311.67
</td>
<td style="text-align:right;">
113.23
</td>
<td style="text-align:right;">
4.0140
</td>
<td style="text-align:right;">
71.2364
</td>
<td style="text-align:right;">
27.836
</td>
<td style="text-align:right;">
6.3927
</td>
<td style="text-align:right;">
21.7967
</td>
<td style="text-align:right;">
0.7371
</td>
<td style="text-align:right;">
3.1113
</td>
<td style="text-align:right;">
4.1543
</td>
<td style="text-align:right;">
3.9637
</td>
<td style="text-align:right;">
1.3476
</td>
<td style="text-align:right;">
33.055
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
169.9625
</td>
<td style="text-align:right;">
9.0574
</td>
<td style="text-align:right;">
3876.38
</td>
<td style="text-align:right;">
6.3884
</td>
<td style="text-align:right;">
22658
</td>
<td style="text-align:right;">
0.30175
</td>
</tr>
</tbody>
</table>
<hr />
</div>
</div>
<div id="strategy-implementation-1" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Strategy Implementation<a href="fx-strategy.html#strategy-implementation-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The final step is implementing this strategy to create a signal. Let’s begin by reading in the flow and return files to our <em>R studio</em> work space.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="fx-strategy.html#cb40-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(flow.file, <span class="at">row.names =</span> <span class="dv">1</span>) <span class="co"># GET FLOW PERCENTAGE</span></span>
<span id="cb40-2"><a href="fx-strategy.html#cb40-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">/</span><span class="fu">read.csv</span>(ret.file, <span class="at">row.names =</span> <span class="dv">1</span>) <span class="co"># READ IN EXCHANGE RATES</span></span></code></pre></div>
<p>One of our first options is choosing the universe we want to use. EPFR has tested this signal within three different universes of countries ACWI (All Country World Index), G10 (ten of the most heavily traded currencies), EM (Emerging Markets). For this example, we choose <strong>ACWI</strong>, which includes 52 countries and 37 currencies.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="fx-strategy.html#cb41-1" aria-hidden="true" tabindex="-1"></a>idx <span class="ot">&lt;-</span> <span class="st">&quot;ACWI&quot;</span> <span class="co"># ACWI/G10/EM</span></span></code></pre></div>
<p>Whenever there are NA exchange rate values for Chinese currency CNH we will replace with Chinese currency CNY currency exchange rates.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="fx-strategy.html#cb42-1" aria-hidden="true" tabindex="-1"></a>y<span class="sc">$</span>CNY <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(y<span class="sc">$</span>CNH), y<span class="sc">$</span>CNY, y<span class="sc">$</span>CNH) <span class="co"># USE CNH WHENEVER POSSIBLE </span></span></code></pre></div>
<p>We will also add a column for the U.S. Dollar (USD) as a benchmark column with value 1. All of the other exchange rates in the row will have the exhange rate of their currency versus 1 USD.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="fx-strategy.html#cb43-1" aria-hidden="true" tabindex="-1"></a>y<span class="sc">$</span>USD <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">dim</span>(y)[<span class="dv">1</span>]) <span class="co"># ADD IN USD </span></span></code></pre></div>
<p>If needed, subset the flow file <span class="math inline">\(x\)</span> and return file <span class="math inline">\(y\)</span> to the selected universe <span class="math inline">\(idx\)</span>. For this example, our flow file is already in the ACWI universe but below is an example of how we set this using the functions <code>Ctry.msci.members.rng()</code> and <code>Ctry.info()</code>, from the <code>library('EPFR')</code> is used. This function first returns a list of two letter country codes from <span class="math inline">\(idx\)</span> and then will produce a unique list of three letter currency codes that these countries use.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="fx-strategy.html#cb44-1" aria-hidden="true" tabindex="-1"></a>idx.curr <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">Ctry.info</span>(<span class="fu">Ctry.msci.members</span>(idx, <span class="st">&quot;&quot;</span>), <span class="st">&quot;Curr&quot;</span>)) <span class="co"># CURRENCY CLASSIFICATION 2016</span></span>
<span id="cb44-2"><a href="fx-strategy.html#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (idx <span class="sc">!=</span> <span class="st">&quot;G10&quot;</span>) idx.curr <span class="ot">&lt;-</span> <span class="fu">union</span>(<span class="fu">Ctry.info</span>(<span class="fu">Ctry.msci</span>(idx)[, <span class="st">&quot;CCODE&quot;</span>], <span class="st">&quot;Curr&quot;</span>), idx.curr) <span class="cf">else</span> idx <span class="ot">&lt;-</span> <span class="cn">NULL</span> <span class="co"># CAPTURE INDEX CHANGES</span></span>
<span id="cb44-3"><a href="fx-strategy.html#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">is.element</span>(<span class="st">&quot;EM&quot;</span>, idx)) idx.curr <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(idx.curr, <span class="fu">c</span>(<span class="st">&quot;USD&quot;</span>, <span class="st">&quot;EUR&quot;</span>)) <span class="co"># ENSURE NO OVERLAP BETWEEN DEVELOPED AND EM CURRENCIES</span></span>
<span id="cb44-4"><a href="fx-strategy.html#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="fx-strategy.html#cb44-5" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> x[, <span class="fu">is.element</span>(<span class="fu">dimnames</span>(x)[[<span class="dv">2</span>]], idx.curr)] <span class="co"># SUBSET TO CURRENCIES OF INTEREST     </span></span></code></pre></div>
<p>We will also subset the return file <span class="math inline">\(y\)</span> to use the same currencies as <span class="math inline">\(x\)</span>.</p>
<!-- commenting out but idk what this means  -->
<!-- so fix??? -->
<!-- <span style="color: red;">Divide by XDR?</span> -->
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="fx-strategy.html#cb45-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> y[, <span class="fu">dimnames</span>(x)[[<span class="dv">2</span>]]]<span class="sc">/</span>y[, <span class="st">&quot;XDR&quot;</span>] <span class="co"># CURRENCIES OF INTEREST ON AN SDR BASE (OTHERWISE &lt;get.fwdRet&gt; THINKS THE USD NEVER TRADES!)     </span></span></code></pre></div>
<p><em>* Note: subsetting can be also be done when creating the flow and return files</em></p>
<div id="compounding-flows-1" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Compounding Flows<a href="fx-strategy.html#compounding-flows-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next, we set up a variable for our look-back period, which can also be called a flow window. This variable will be the window of time we use to create a trailing compounded daily percentage flow. The look-back period we choose for our demonstrations is <strong>20 days</strong>.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="fx-strategy.html#cb46-1" aria-hidden="true" tabindex="-1"></a>lookback <span class="ot">&lt;-</span> <span class="dv">20</span> <span class="co"># FLOW WINDOW (IN WEEKDAYS) - 20 day look back period</span></span></code></pre></div>
<p>Using a function from the <code>library('EPFR')</code>, <code>compound.flows()</code> compounds the daily percentage flow over the trailing <code>lookback</code> period for each country.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="fx-strategy.html#cb47-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">compound.flows</span>(x, lookback, F) <span class="co"># COMPOUND FLOWS</span></span></code></pre></div>
<table class=" lightable-paper lightable-hover table" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
ARS
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
AUD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
BRL
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CAD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CHF
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CLP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CNY
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CZK
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
EGP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
GBP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
HUF
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
IDR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
ILS
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
INR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
JPY
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
KRW
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
MXN
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
MYR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
NOK
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
NZD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PEN
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PHP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PLN
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
RUB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
SEK
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
SGD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
THB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
TRY
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
TWD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
ZAR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
USD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
EUR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
COP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PKR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
MAD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
VND
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
KWD
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
20211101
</td>
<td style="text-align:right;">
0.9527874
</td>
<td style="text-align:right;">
0.8886917
</td>
<td style="text-align:right;">
-0.1643256
</td>
<td style="text-align:right;">
0.7911437
</td>
<td style="text-align:right;">
0.5886318
</td>
<td style="text-align:right;">
0.0941707
</td>
<td style="text-align:right;">
0.0136028
</td>
<td style="text-align:right;">
0.1973409
</td>
<td style="text-align:right;">
0.4458388
</td>
<td style="text-align:right;">
0.4883132
</td>
<td style="text-align:right;">
-0.0835879
</td>
<td style="text-align:right;">
0.3253984
</td>
<td style="text-align:right;">
0.6767142
</td>
<td style="text-align:right;">
0.0568839
</td>
<td style="text-align:right;">
0.6975504
</td>
<td style="text-align:right;">
0.0003825
</td>
<td style="text-align:right;">
-0.3566255
</td>
<td style="text-align:right;">
0.5171869
</td>
<td style="text-align:right;">
0.6827073
</td>
<td style="text-align:right;">
0.8891241
</td>
<td style="text-align:right;">
0.0448713
</td>
<td style="text-align:right;">
0.3602971
</td>
<td style="text-align:right;">
0.2698957
</td>
<td style="text-align:right;">
-0.1146523
</td>
<td style="text-align:right;">
0.6586210
</td>
<td style="text-align:right;">
0.9203488
</td>
<td style="text-align:right;">
0.4436781
</td>
<td style="text-align:right;">
0.2297049
</td>
<td style="text-align:right;">
0.1158142
</td>
<td style="text-align:right;">
0.1358923
</td>
<td style="text-align:right;">
0.5331267
</td>
<td style="text-align:right;">
0.5057824
</td>
<td style="text-align:right;">
0.0762317
</td>
<td style="text-align:right;">
0.3584083
</td>
<td style="text-align:right;">
0.965048
</td>
<td style="text-align:right;">
2.010549
</td>
<td style="text-align:right;">
0.3581192
</td>
</tr>
<tr>
<td style="text-align:left;">
20211102
</td>
<td style="text-align:right;">
0.9511879
</td>
<td style="text-align:right;">
0.9113120
</td>
<td style="text-align:right;">
-0.1215076
</td>
<td style="text-align:right;">
0.8226356
</td>
<td style="text-align:right;">
0.6456834
</td>
<td style="text-align:right;">
0.1367749
</td>
<td style="text-align:right;">
0.0853221
</td>
<td style="text-align:right;">
0.3447459
</td>
<td style="text-align:right;">
0.4660920
</td>
<td style="text-align:right;">
0.5460583
</td>
<td style="text-align:right;">
0.0460547
</td>
<td style="text-align:right;">
0.4075028
</td>
<td style="text-align:right;">
0.6598749
</td>
<td style="text-align:right;">
0.1126144
</td>
<td style="text-align:right;">
0.6961294
</td>
<td style="text-align:right;">
0.0646005
</td>
<td style="text-align:right;">
-0.3007117
</td>
<td style="text-align:right;">
0.5624623
</td>
<td style="text-align:right;">
0.7498127
</td>
<td style="text-align:right;">
0.8348205
</td>
<td style="text-align:right;">
0.0729561
</td>
<td style="text-align:right;">
0.4042960
</td>
<td style="text-align:right;">
0.3494553
</td>
<td style="text-align:right;">
-0.0367560
</td>
<td style="text-align:right;">
0.7114888
</td>
<td style="text-align:right;">
0.9576903
</td>
<td style="text-align:right;">
0.4826777
</td>
<td style="text-align:right;">
0.2880251
</td>
<td style="text-align:right;">
0.1651396
</td>
<td style="text-align:right;">
0.1777627
</td>
<td style="text-align:right;">
0.5863308
</td>
<td style="text-align:right;">
0.5350202
</td>
<td style="text-align:right;">
0.1003466
</td>
<td style="text-align:right;">
0.4909221
</td>
<td style="text-align:right;">
1.375735
</td>
<td style="text-align:right;">
2.431359
</td>
<td style="text-align:right;">
0.3612804
</td>
</tr>
<tr>
<td style="text-align:left;">
20211103
</td>
<td style="text-align:right;">
1.0513516
</td>
<td style="text-align:right;">
0.9160408
</td>
<td style="text-align:right;">
-0.1097747
</td>
<td style="text-align:right;">
0.8785058
</td>
<td style="text-align:right;">
0.6874933
</td>
<td style="text-align:right;">
0.1864272
</td>
<td style="text-align:right;">
-0.0221081
</td>
<td style="text-align:right;">
0.3186403
</td>
<td style="text-align:right;">
0.4780846
</td>
<td style="text-align:right;">
0.5855840
</td>
<td style="text-align:right;">
-0.0826498
</td>
<td style="text-align:right;">
0.3266397
</td>
<td style="text-align:right;">
0.6896169
</td>
<td style="text-align:right;">
0.0377962
</td>
<td style="text-align:right;">
0.7290372
</td>
<td style="text-align:right;">
-0.0283303
</td>
<td style="text-align:right;">
-0.2942868
</td>
<td style="text-align:right;">
0.4956191
</td>
<td style="text-align:right;">
0.7621672
</td>
<td style="text-align:right;">
0.8442814
</td>
<td style="text-align:right;">
0.1892010
</td>
<td style="text-align:right;">
0.3710247
</td>
<td style="text-align:right;">
0.3234475
</td>
<td style="text-align:right;">
-0.1713463
</td>
<td style="text-align:right;">
0.7630596
</td>
<td style="text-align:right;">
0.9751096
</td>
<td style="text-align:right;">
0.4171425
</td>
<td style="text-align:right;">
0.2530661
</td>
<td style="text-align:right;">
0.0948579
</td>
<td style="text-align:right;">
0.1030250
</td>
<td style="text-align:right;">
0.7126995
</td>
<td style="text-align:right;">
0.5548281
</td>
<td style="text-align:right;">
0.1200707
</td>
<td style="text-align:right;">
0.4598254
</td>
<td style="text-align:right;">
1.389126
</td>
<td style="text-align:right;">
2.323259
</td>
<td style="text-align:right;">
0.3628481
</td>
</tr>
<tr>
<td style="text-align:left;">
20211104
</td>
<td style="text-align:right;">
1.2183855
</td>
<td style="text-align:right;">
0.8414238
</td>
<td style="text-align:right;">
-0.0211902
</td>
<td style="text-align:right;">
0.8939104
</td>
<td style="text-align:right;">
0.6637428
</td>
<td style="text-align:right;">
0.2638770
</td>
<td style="text-align:right;">
0.1060178
</td>
<td style="text-align:right;">
0.3824682
</td>
<td style="text-align:right;">
0.5165306
</td>
<td style="text-align:right;">
0.5571391
</td>
<td style="text-align:right;">
-0.0376093
</td>
<td style="text-align:right;">
0.3852991
</td>
<td style="text-align:right;">
0.7288608
</td>
<td style="text-align:right;">
0.1056081
</td>
<td style="text-align:right;">
0.7074698
</td>
<td style="text-align:right;">
0.0498978
</td>
<td style="text-align:right;">
-0.2102378
</td>
<td style="text-align:right;">
0.5236246
</td>
<td style="text-align:right;">
0.8071756
</td>
<td style="text-align:right;">
0.8558580
</td>
<td style="text-align:right;">
0.2598218
</td>
<td style="text-align:right;">
0.3824082
</td>
<td style="text-align:right;">
0.3975286
</td>
<td style="text-align:right;">
-0.0884708
</td>
<td style="text-align:right;">
0.7788151
</td>
<td style="text-align:right;">
1.0324599
</td>
<td style="text-align:right;">
0.4610131
</td>
<td style="text-align:right;">
0.3289220
</td>
<td style="text-align:right;">
0.1592458
</td>
<td style="text-align:right;">
0.1532068
</td>
<td style="text-align:right;">
0.7550539
</td>
<td style="text-align:right;">
0.6041268
</td>
<td style="text-align:right;">
0.0671506
</td>
<td style="text-align:right;">
0.4698074
</td>
<td style="text-align:right;">
1.509447
</td>
<td style="text-align:right;">
2.607490
</td>
<td style="text-align:right;">
0.3565739
</td>
</tr>
<tr>
<td style="text-align:left;">
20211105
</td>
<td style="text-align:right;">
1.2742174
</td>
<td style="text-align:right;">
0.9314653
</td>
<td style="text-align:right;">
0.0935136
</td>
<td style="text-align:right;">
0.9438265
</td>
<td style="text-align:right;">
0.7302135
</td>
<td style="text-align:right;">
0.3749336
</td>
<td style="text-align:right;">
0.1619661
</td>
<td style="text-align:right;">
0.4575477
</td>
<td style="text-align:right;">
0.5899856
</td>
<td style="text-align:right;">
0.6339812
</td>
<td style="text-align:right;">
-0.0357945
</td>
<td style="text-align:right;">
0.4945322
</td>
<td style="text-align:right;">
0.7735925
</td>
<td style="text-align:right;">
0.1862533
</td>
<td style="text-align:right;">
0.7706071
</td>
<td style="text-align:right;">
0.1166506
</td>
<td style="text-align:right;">
-0.1208222
</td>
<td style="text-align:right;">
0.5668301
</td>
<td style="text-align:right;">
0.8649407
</td>
<td style="text-align:right;">
0.8996040
</td>
<td style="text-align:right;">
0.4389306
</td>
<td style="text-align:right;">
0.4449501
</td>
<td style="text-align:right;">
0.4283310
</td>
<td style="text-align:right;">
-0.0729828
</td>
<td style="text-align:right;">
0.8590396
</td>
<td style="text-align:right;">
1.1081347
</td>
<td style="text-align:right;">
0.5289094
</td>
<td style="text-align:right;">
0.2554504
</td>
<td style="text-align:right;">
0.2111732
</td>
<td style="text-align:right;">
0.2017390
</td>
<td style="text-align:right;">
0.7672262
</td>
<td style="text-align:right;">
0.6327286
</td>
<td style="text-align:right;">
0.3363588
</td>
<td style="text-align:right;">
0.5046355
</td>
<td style="text-align:right;">
1.511611
</td>
<td style="text-align:right;">
2.836261
</td>
<td style="text-align:right;">
0.4729630
</td>
</tr>
<tr>
<td style="text-align:left;">
20211108
</td>
<td style="text-align:right;">
1.2782616
</td>
<td style="text-align:right;">
0.9511809
</td>
<td style="text-align:right;">
0.1597602
</td>
<td style="text-align:right;">
0.9740415
</td>
<td style="text-align:right;">
0.7498179
</td>
<td style="text-align:right;">
0.4381970
</td>
<td style="text-align:right;">
0.1308746
</td>
<td style="text-align:right;">
0.6198284
</td>
<td style="text-align:right;">
0.7043644
</td>
<td style="text-align:right;">
0.6368313
</td>
<td style="text-align:right;">
0.1010411
</td>
<td style="text-align:right;">
0.4771341
</td>
<td style="text-align:right;">
0.7967628
</td>
<td style="text-align:right;">
0.2129500
</td>
<td style="text-align:right;">
0.7879206
</td>
<td style="text-align:right;">
0.1223963
</td>
<td style="text-align:right;">
-0.0846933
</td>
<td style="text-align:right;">
0.5913104
</td>
<td style="text-align:right;">
0.8340679
</td>
<td style="text-align:right;">
0.8533027
</td>
<td style="text-align:right;">
0.4839689
</td>
<td style="text-align:right;">
0.4238052
</td>
<td style="text-align:right;">
0.6375655
</td>
<td style="text-align:right;">
0.0964786
</td>
<td style="text-align:right;">
0.8732623
</td>
<td style="text-align:right;">
1.0222730
</td>
<td style="text-align:right;">
0.5139547
</td>
<td style="text-align:right;">
0.2608682
</td>
<td style="text-align:right;">
0.2383972
</td>
<td style="text-align:right;">
0.2704215
</td>
<td style="text-align:right;">
0.8277552
</td>
<td style="text-align:right;">
0.6320875
</td>
<td style="text-align:right;">
0.4255152
</td>
<td style="text-align:right;">
0.6409877
</td>
<td style="text-align:right;">
1.904923
</td>
<td style="text-align:right;">
2.919542
</td>
<td style="text-align:right;">
0.5269095
</td>
</tr>
</tbody>
</table>
</div>
<div id="ranking-currencies" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Ranking Currencies<a href="fx-strategy.html#ranking-currencies" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Next, we sort the currencies in each universe into five equal bins based on their 20-day Percentage Flow Compounded value for the selected holding period. To do this, we will use the function from <code>library('EPFR')</code>, called <code>bbk()</code>. This function will output a standardized backtest result.</p>
<p>The <code>bbk()</code> function requires our compounded daily percentage flow file, a return file, and our selected universe. Please refer to the library documentation for the complete list of parameters of this function.</p>
<p>The first parameter we add is the number of bins we want to use. For our case, we want to use 5 because our strategy is to go long the top fifth and short the bottom fifth.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="fx-strategy.html#cb48-1" aria-hidden="true" tabindex="-1"></a>nBin <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="co"># NUMBER OF BINS</span></span></code></pre></div>
<p>Since EPFR data is published with T+1 day lag and is released around 5:00 pm EST, we account for a T+2 day delay in our model since that is when one can trade on the information. Users interested in more timely signals can also use the T+2 Open Prices for backtesting purposes. EPFR also offers a Premium Daily offering, an earlier release of the end-of-day data covering a significant subset of fund-level flow information.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="fx-strategy.html#cb49-1" aria-hidden="true" tabindex="-1"></a>delay <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co"># DELAY IN KNOWING DATA (IN WEEKDAYS) - data takes time to have</span></span></code></pre></div>
<p>It is also important to note that this model will need to be re-balanced weekly. The day of the week the rebalancing occurs is at the discretion of the user. For this example we will set the day of the week to trade as <strong>Friday</strong>.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="fx-strategy.html#cb50-1" aria-hidden="true" tabindex="-1"></a>doW <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="co"># DAY OF THE WEEK YOU WILL TRADE ON (5 = FRIDAYS)</span></span></code></pre></div>
<p>Additionally, we also evaluate the returns for different holding periods. The user can input return horizons that they are interested in here. For this example we define a return horizon for weekly, fortnightly, monthly, bi-monthly, quarterly, and semi-annually.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="fx-strategy.html#cb51-1" aria-hidden="true" tabindex="-1"></a>hz <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">45</span>, <span class="dv">65</span>, <span class="dv">130</span>) <span class="co"># RETURN HORIZON (IN WEEKDAYS) - holding periods</span></span></code></pre></div>
<p>Now that we have defined all of our inputs, to rank the currencies into quintiles by their 20-day percentage flow, we call function <code>bbk()</code> for a 1-week holding period.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="fx-strategy.html#cb52-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">bbk</span>(x, y, <span class="dv">1</span>, hz[<span class="dv">1</span>], nBin, doW, T, <span class="dv">0</span>, delay, idx)</span></code></pre></div>
</div>
<div id="model-2" class="section level3 hasAnchor" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> Model<a href="fx-strategy.html#model-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<!-- **Flow percentage compounded over trailing 20 days** -->
<!-- ```{r, eval=F, echo=T} -->
<!-- z[["raw"]] -->
<!-- ``` -->
<!-- ```{r, echo=F} -->
<!-- datatable(head(mat.to.xlModel(z[["raw"]])))  -->
<!-- ``` -->
<!-- **One-week ahead return (Friday to Friday)** -->
<!-- ```{r, eval=F, echo=T} -->
<!-- z[["raw.fwd.rets"]] -->
<!-- ``` -->
<!-- ```{r, echo=F} -->
<!-- datatable(head(mat.to.xlModel(z[["raw.fwd.rets"]])))  -->
<!-- ``` -->
<p><strong>Twenty-day flow percentage ranked into quintiles (computed only where forward returns are available)</strong></p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="fx-strategy.html#cb53-1" aria-hidden="true" tabindex="-1"></a>z[[<span class="st">&quot;bins&quot;</span>]]</span></code></pre></div>
<table class=" lightable-paper lightable-hover table" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
ARS
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
AUD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
BRL
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CAD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CHF
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CLP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CNY
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
CZK
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
EGP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
GBP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
HUF
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
IDR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
ILS
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
INR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
JPY
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
KRW
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
MXN
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
MYR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
NOK
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
NZD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PEN
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PHP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PLN
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
RUB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
SEK
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
SGD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
THB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
TRY
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
TWD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
ZAR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
USD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
EUR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
COP
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
PKR
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
MAD
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
VND
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
KWD
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
20211126
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
20211119
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
20211112
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
20211105
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
3
</td>
</tr>
</tbody>
</table>
<p><strong>Quintile Returns over the equal-weight universe</strong></p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="fx-strategy.html#cb54-1" aria-hidden="true" tabindex="-1"></a>z[[<span class="st">&quot;rets&quot;</span>]]</span></code></pre></div>
<table class=" lightable-paper lightable-hover table" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q1
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q2
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q3
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q4
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
TxB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
uRet
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
20211126
</td>
<td style="text-align:right;">
-0.3518588
</td>
<td style="text-align:right;">
-0.0742545
</td>
<td style="text-align:right;">
-0.2356399
</td>
<td style="text-align:right;">
0.6669874
</td>
<td style="text-align:right;">
-0.0052342
</td>
<td style="text-align:right;">
-0.3466246
</td>
<td style="text-align:right;">
0.2425766
</td>
</tr>
<tr>
<td style="text-align:left;">
20211119
</td>
<td style="text-align:right;">
-0.2261018
</td>
<td style="text-align:right;">
0.7205219
</td>
<td style="text-align:right;">
0.6028981
</td>
<td style="text-align:right;">
0.1247873
</td>
<td style="text-align:right;">
-1.2221055
</td>
<td style="text-align:right;">
0.9960037
</td>
<td style="text-align:right;">
-1.5876957
</td>
</tr>
<tr>
<td style="text-align:left;">
20211112
</td>
<td style="text-align:right;">
0.4273747
</td>
<td style="text-align:right;">
0.3637810
</td>
<td style="text-align:right;">
0.5490416
</td>
<td style="text-align:right;">
-1.5277204
</td>
<td style="text-align:right;">
0.1875232
</td>
<td style="text-align:right;">
0.2398515
</td>
<td style="text-align:right;">
-1.5849676
</td>
</tr>
<tr>
<td style="text-align:left;">
20211105
</td>
<td style="text-align:right;">
-0.4166332
</td>
<td style="text-align:right;">
0.1161974
</td>
<td style="text-align:right;">
0.4211856
</td>
<td style="text-align:right;">
-0.1150009
</td>
<td style="text-align:right;">
-0.0057489
</td>
<td style="text-align:right;">
-0.4108843
</td>
<td style="text-align:right;">
-0.7804385
</td>
</tr>
</tbody>
</table>
<hr />
</div>
<div id="performance-1" class="section level3 hasAnchor" number="5.3.4">
<h3><span class="header-section-number">5.3.4</span> Performance<a href="fx-strategy.html#performance-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Performance over all holding periods</strong></p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="fx-strategy.html#cb55-1" aria-hidden="true" tabindex="-1"></a>fcn <span class="ot">&lt;-</span> <span class="cf">function</span>(retW) {<span class="fu">as.matrix</span>(<span class="fu">bbk</span>(x, y, <span class="dv">1</span>, retW, nBin, doW, T, <span class="dv">0</span>, delay, idx)<span class="sc">$</span>summ)} <span class="co"># DEFINE SUMMARY FUNCTION       </span></span>
<span id="cb55-2"><a href="fx-strategy.html#cb55-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-3"><a href="fx-strategy.html#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(<span class="fu">split</span>(hz, hz), fcn, <span class="at">simplify =</span> <span class="st">&quot;array&quot;</span>) <span class="co"># WRITE SUMMARIES        </span></span></code></pre></div>
<table class=" lightable-paper lightable-hover table" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q1
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q2
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q3
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q4
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
TxB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
uRet
</th>
</tr>
</thead>
<tbody>
<tr grouplength="10">
<td colspan="1" style="border-bottom: 1px solid;">
<strong>Bi-Monthly</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnMn
</td>
<td style="text-align:right;">
1.202793e+00
</td>
<td style="text-align:right;">
-1.666856e-01
</td>
<td style="text-align:right;">
4.507323e-01
</td>
<td style="text-align:right;">
-6.814861e-01
</td>
<td style="text-align:right;">
-7.777664e-01
</td>
<td style="text-align:right;">
1.980559e+00
</td>
<td style="text-align:right;">
-2.307785e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnSd
</td>
<td style="text-align:right;">
3.212562e+00
</td>
<td style="text-align:right;">
2.674507e+00
</td>
<td style="text-align:right;">
2.868744e+00
</td>
<td style="text-align:right;">
3.133586e+00
</td>
<td style="text-align:right;">
3.209554e+00
</td>
<td style="text-align:right;">
5.337835e+00
</td>
<td style="text-align:right;">
1.089995e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Sharpe
</td>
<td style="text-align:right;">
3.735070e+01
</td>
<td style="text-align:right;">
-5.077422e+00
</td>
<td style="text-align:right;">
1.635085e+01
</td>
<td style="text-align:right;">
-2.257005e+01
</td>
<td style="text-align:right;">
-2.466220e+01
</td>
<td style="text-align:right;">
3.694592e+01
</td>
<td style="text-align:right;">
-2.126384e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
HitRate
</td>
<td style="text-align:right;">
4.365079e+00
</td>
<td style="text-align:right;">
-1.354625e-01
</td>
<td style="text-align:right;">
3.459871e+00
</td>
<td style="text-align:right;">
-7.904634e-01
</td>
<td style="text-align:right;">
-1.200038e+00
</td>
<td style="text-align:right;">
4.106904e+00
</td>
<td style="text-align:right;">
-2.266208e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Beta
</td>
<td style="text-align:right;">
-6.701050e-02
</td>
<td style="text-align:right;">
-3.967260e-02
</td>
<td style="text-align:right;">
-1.071010e-02
</td>
<td style="text-align:right;">
4.252560e-02
</td>
<td style="text-align:right;">
6.917680e-02
</td>
<td style="text-align:right;">
-1.361873e-01
</td>
<td style="text-align:right;">
1.000000e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Alpha
</td>
<td style="text-align:right;">
1.048506e+00
</td>
<td style="text-align:right;">
-2.593877e-01
</td>
<td style="text-align:right;">
4.261955e-01
</td>
<td style="text-align:right;">
-5.829167e-01
</td>
<td style="text-align:right;">
-6.180728e-01
</td>
<td style="text-align:right;">
1.666578e+00
</td>
<td style="text-align:right;">
0.000000e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DrawDn
</td>
<td style="text-align:right;">
-7.883003e+00
</td>
<td style="text-align:right;">
-1.043619e+01
</td>
<td style="text-align:right;">
-1.209756e+01
</td>
<td style="text-align:right;">
-2.068240e+01
</td>
<td style="text-align:right;">
-1.772203e+01
</td>
<td style="text-align:right;">
-1.057861e+01
</td>
<td style="text-align:right;">
-5.788302e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DDnBeg
</td>
<td style="text-align:right;">
2.016404e+07
</td>
<td style="text-align:right;">
2.009163e+07
</td>
<td style="text-align:right;">
2.008412e+07
</td>
<td style="text-align:right;">
2.010976e+07
</td>
<td style="text-align:right;">
2.008756e+07
</td>
<td style="text-align:right;">
2.013400e+07
</td>
<td style="text-align:right;">
2.011062e+07
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DDnN
</td>
<td style="text-align:right;">
1.011111e+01
</td>
<td style="text-align:right;">
4.188889e+01
</td>
<td style="text-align:right;">
3.388889e+01
</td>
<td style="text-align:right;">
4.522222e+01
</td>
<td style="text-align:right;">
5.477778e+01
</td>
<td style="text-align:right;">
1.200000e+01
</td>
<td style="text-align:right;">
5.122222e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnTo
</td>
<td style="text-align:right;">
3.474523e+02
</td>
<td style="text-align:right;">
4.248691e+02
</td>
<td style="text-align:right;">
4.328587e+02
</td>
<td style="text-align:right;">
4.330536e+02
</td>
<td style="text-align:right;">
3.640098e+02
</td>
<td style="text-align:right;">
7.114621e+02
</td>
<td style="text-align:right;">
0.000000e+00
</td>
</tr>
<tr grouplength="10">
<td colspan="1" style="border-bottom: 1px solid;">
<strong>Fortnightly</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnMn
</td>
<td style="text-align:right;">
2.263666e+00
</td>
<td style="text-align:right;">
-6.950581e-01
</td>
<td style="text-align:right;">
1.974790e-02
</td>
<td style="text-align:right;">
-6.026635e-01
</td>
<td style="text-align:right;">
-9.126483e-01
</td>
<td style="text-align:right;">
3.176315e+00
</td>
<td style="text-align:right;">
-2.334166e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnSd
</td>
<td style="text-align:right;">
3.425184e+00
</td>
<td style="text-align:right;">
2.932973e+00
</td>
<td style="text-align:right;">
3.111426e+00
</td>
<td style="text-align:right;">
3.365906e+00
</td>
<td style="text-align:right;">
3.412246e+00
</td>
<td style="text-align:right;">
5.572719e+00
</td>
<td style="text-align:right;">
1.001495e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Sharpe
</td>
<td style="text-align:right;">
6.611333e+01
</td>
<td style="text-align:right;">
-2.368521e+01
</td>
<td style="text-align:right;">
3.750774e-01
</td>
<td style="text-align:right;">
-1.795153e+01
</td>
<td style="text-align:right;">
-2.704696e+01
</td>
<td style="text-align:right;">
5.759251e+01
</td>
<td style="text-align:right;">
-2.330919e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
HitRate
</td>
<td style="text-align:right;">
4.270618e+00
</td>
<td style="text-align:right;">
-1.118594e+00
</td>
<td style="text-align:right;">
7.238569e-01
</td>
<td style="text-align:right;">
1.380370e+00
</td>
<td style="text-align:right;">
-3.256665e-01
</td>
<td style="text-align:right;">
3.350256e+00
</td>
<td style="text-align:right;">
-1.982318e-01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Beta
</td>
<td style="text-align:right;">
-6.646200e-03
</td>
<td style="text-align:right;">
-3.719760e-02
</td>
<td style="text-align:right;">
-7.018090e-02
</td>
<td style="text-align:right;">
3.299640e-02
</td>
<td style="text-align:right;">
7.605300e-02
</td>
<td style="text-align:right;">
-8.269920e-02
</td>
<td style="text-align:right;">
1.000000e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Alpha
</td>
<td style="text-align:right;">
2.248129e+00
</td>
<td style="text-align:right;">
-7.818885e-01
</td>
<td style="text-align:right;">
-1.440789e-01
</td>
<td style="text-align:right;">
-5.255930e-01
</td>
<td style="text-align:right;">
-7.351219e-01
</td>
<td style="text-align:right;">
2.983251e+00
</td>
<td style="text-align:right;">
0.000000e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DrawDn
</td>
<td style="text-align:right;">
-8.451962e+00
</td>
<td style="text-align:right;">
-1.661653e+01
</td>
<td style="text-align:right;">
-1.052911e+01
</td>
<td style="text-align:right;">
-2.537488e+01
</td>
<td style="text-align:right;">
-2.355988e+01
</td>
<td style="text-align:right;">
-1.406975e+01
</td>
<td style="text-align:right;">
-6.085436e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DDnBeg
</td>
<td style="text-align:right;">
2.019562e+07
</td>
<td style="text-align:right;">
2.008525e+07
</td>
<td style="text-align:right;">
2.007621e+07
</td>
<td style="text-align:right;">
2.011017e+07
</td>
<td style="text-align:right;">
2.008048e+07
</td>
<td style="text-align:right;">
2.019062e+07
</td>
<td style="text-align:right;">
2.011058e+07
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DDnN
</td>
<td style="text-align:right;">
4.200000e+01
</td>
<td style="text-align:right;">
1.615000e+02
</td>
<td style="text-align:right;">
1.645000e+02
</td>
<td style="text-align:right;">
2.680000e+02
</td>
<td style="text-align:right;">
2.650000e+02
</td>
<td style="text-align:right;">
6.000000e+01
</td>
<td style="text-align:right;">
2.300000e+02
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnTo
</td>
<td style="text-align:right;">
8.829337e+02
</td>
<td style="text-align:right;">
1.489343e+03
</td>
<td style="text-align:right;">
1.575801e+03
</td>
<td style="text-align:right;">
1.570955e+03
</td>
<td style="text-align:right;">
9.842115e+02
</td>
<td style="text-align:right;">
1.867145e+03
</td>
<td style="text-align:right;">
0.000000e+00
</td>
</tr>
<tr grouplength="10">
<td colspan="1" style="border-bottom: 1px solid;">
<strong>Monthly</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnMn
</td>
<td style="text-align:right;">
2.054549e+00
</td>
<td style="text-align:right;">
-5.842837e-01
</td>
<td style="text-align:right;">
5.817147e-01
</td>
<td style="text-align:right;">
-1.069296e+00
</td>
<td style="text-align:right;">
-8.707516e-01
</td>
<td style="text-align:right;">
2.925300e+00
</td>
<td style="text-align:right;">
-2.324331e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnSd
</td>
<td style="text-align:right;">
3.351651e+00
</td>
<td style="text-align:right;">
2.750413e+00
</td>
<td style="text-align:right;">
2.984443e+00
</td>
<td style="text-align:right;">
3.334230e+00
</td>
<td style="text-align:right;">
3.335077e+00
</td>
<td style="text-align:right;">
5.567418e+00
</td>
<td style="text-align:right;">
1.037449e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Sharpe
</td>
<td style="text-align:right;">
6.146225e+01
</td>
<td style="text-align:right;">
-2.156491e+01
</td>
<td style="text-align:right;">
1.928186e+01
</td>
<td style="text-align:right;">
-3.199690e+01
</td>
<td style="text-align:right;">
-2.656219e+01
</td>
<td style="text-align:right;">
5.313350e+01
</td>
<td style="text-align:right;">
-2.242420e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
HitRate
</td>
<td style="text-align:right;">
6.652743e+00
</td>
<td style="text-align:right;">
-9.851016e-01
</td>
<td style="text-align:right;">
2.969925e+00
</td>
<td style="text-align:right;">
-1.991089e-01
</td>
<td style="text-align:right;">
-1.252437e+00
</td>
<td style="text-align:right;">
4.413812e+00
</td>
<td style="text-align:right;">
-1.385408e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Beta
</td>
<td style="text-align:right;">
-4.002120e-02
</td>
<td style="text-align:right;">
-3.125860e-02
</td>
<td style="text-align:right;">
-4.566500e-02
</td>
<td style="text-align:right;">
3.463950e-02
</td>
<td style="text-align:right;">
7.608590e-02
</td>
<td style="text-align:right;">
-1.161071e-01
</td>
<td style="text-align:right;">
1.000000e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Alpha
</td>
<td style="text-align:right;">
1.960868e+00
</td>
<td style="text-align:right;">
-6.565334e-01
</td>
<td style="text-align:right;">
4.743020e-01
</td>
<td style="text-align:right;">
-9.878636e-01
</td>
<td style="text-align:right;">
-6.933243e-01
</td>
<td style="text-align:right;">
2.654192e+00
</td>
<td style="text-align:right;">
0.000000e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DrawDn
</td>
<td style="text-align:right;">
-9.168314e+00
</td>
<td style="text-align:right;">
-1.561330e+01
</td>
<td style="text-align:right;">
-1.090424e+01
</td>
<td style="text-align:right;">
-2.690417e+01
</td>
<td style="text-align:right;">
-2.099594e+01
</td>
<td style="text-align:right;">
-1.326259e+01
</td>
<td style="text-align:right;">
-5.962323e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DDnBeg
</td>
<td style="text-align:right;">
2.018557e+07
</td>
<td style="text-align:right;">
2.007819e+07
</td>
<td style="text-align:right;">
2.008099e+07
</td>
<td style="text-align:right;">
2.012289e+07
</td>
<td style="text-align:right;">
2.007584e+07
</td>
<td style="text-align:right;">
2.019282e+07
</td>
<td style="text-align:right;">
2.011055e+07
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DDnN
</td>
<td style="text-align:right;">
3.500000e+01
</td>
<td style="text-align:right;">
1.522500e+02
</td>
<td style="text-align:right;">
7.500000e+01
</td>
<td style="text-align:right;">
9.175000e+01
</td>
<td style="text-align:right;">
1.245000e+02
</td>
<td style="text-align:right;">
2.925000e+01
</td>
<td style="text-align:right;">
1.157500e+02
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnTo
</td>
<td style="text-align:right;">
6.562868e+02
</td>
<td style="text-align:right;">
9.047021e+02
</td>
<td style="text-align:right;">
9.368678e+02
</td>
<td style="text-align:right;">
9.123413e+02
</td>
<td style="text-align:right;">
7.268272e+02
</td>
<td style="text-align:right;">
1.383114e+03
</td>
<td style="text-align:right;">
0.000000e+00
</td>
</tr>
<tr grouplength="10">
<td colspan="1" style="border-bottom: 1px solid;">
<strong>Quarterly</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnMn
</td>
<td style="text-align:right;">
1.273269e+00
</td>
<td style="text-align:right;">
1.814666e-01
</td>
<td style="text-align:right;">
4.927360e-02
</td>
<td style="text-align:right;">
-6.205964e-01
</td>
<td style="text-align:right;">
-8.784326e-01
</td>
<td style="text-align:right;">
2.151702e+00
</td>
<td style="text-align:right;">
-2.241157e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnSd
</td>
<td style="text-align:right;">
3.044936e+00
</td>
<td style="text-align:right;">
2.704247e+00
</td>
<td style="text-align:right;">
2.788437e+00
</td>
<td style="text-align:right;">
3.100221e+00
</td>
<td style="text-align:right;">
3.327981e+00
</td>
<td style="text-align:right;">
5.251225e+00
</td>
<td style="text-align:right;">
1.109528e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Sharpe
</td>
<td style="text-align:right;">
4.120683e+01
</td>
<td style="text-align:right;">
6.621168e+00
</td>
<td style="text-align:right;">
2.755499e+00
</td>
<td style="text-align:right;">
-2.048491e+01
</td>
<td style="text-align:right;">
-2.669018e+01
</td>
<td style="text-align:right;">
4.099666e+01
</td>
<td style="text-align:right;">
-2.027714e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
HitRate
</td>
<td style="text-align:right;">
7.173438e+00
</td>
<td style="text-align:right;">
5.374843e-01
</td>
<td style="text-align:right;">
-1.209921e-01
</td>
<td style="text-align:right;">
-7.980827e-01
</td>
<td style="text-align:right;">
-3.066685e+00
</td>
<td style="text-align:right;">
6.647587e+00
</td>
<td style="text-align:right;">
-5.356229e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Beta
</td>
<td style="text-align:right;">
-6.918030e-02
</td>
<td style="text-align:right;">
-2.996160e-02
</td>
<td style="text-align:right;">
-1.078060e-02
</td>
<td style="text-align:right;">
2.417190e-02
</td>
<td style="text-align:right;">
8.226400e-02
</td>
<td style="text-align:right;">
-1.514442e-01
</td>
<td style="text-align:right;">
1.000000e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Alpha
</td>
<td style="text-align:right;">
1.121021e+00
</td>
<td style="text-align:right;">
1.117134e-01
</td>
<td style="text-align:right;">
2.554630e-02
</td>
<td style="text-align:right;">
-5.665063e-01
</td>
<td style="text-align:right;">
-6.949753e-01
</td>
<td style="text-align:right;">
1.815996e+00
</td>
<td style="text-align:right;">
0.000000e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DrawDn
</td>
<td style="text-align:right;">
-7.618745e+00
</td>
<td style="text-align:right;">
-1.074578e+01
</td>
<td style="text-align:right;">
-1.221118e+01
</td>
<td style="text-align:right;">
-1.966290e+01
</td>
<td style="text-align:right;">
-1.823469e+01
</td>
<td style="text-align:right;">
-9.750479e+00
</td>
<td style="text-align:right;">
-5.611454e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DDnBeg
</td>
<td style="text-align:right;">
2.014820e+07
</td>
<td style="text-align:right;">
2.009745e+07
</td>
<td style="text-align:right;">
2.009528e+07
</td>
<td style="text-align:right;">
2.010227e+07
</td>
<td style="text-align:right;">
2.008844e+07
</td>
<td style="text-align:right;">
2.013676e+07
</td>
<td style="text-align:right;">
2.010832e+07
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DDnN
</td>
<td style="text-align:right;">
9.384615e+00
</td>
<td style="text-align:right;">
2.038462e+01
</td>
<td style="text-align:right;">
2.115385e+01
</td>
<td style="text-align:right;">
3.300000e+01
</td>
<td style="text-align:right;">
4.038462e+01
</td>
<td style="text-align:right;">
6.384615e+00
</td>
<td style="text-align:right;">
3.692308e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnTo
</td>
<td style="text-align:right;">
2.566343e+02
</td>
<td style="text-align:right;">
3.056862e+02
</td>
<td style="text-align:right;">
3.016657e+02
</td>
<td style="text-align:right;">
3.053099e+02
</td>
<td style="text-align:right;">
2.659915e+02
</td>
<td style="text-align:right;">
5.226258e+02
</td>
<td style="text-align:right;">
0.000000e+00
</td>
</tr>
<tr grouplength="10">
<td colspan="1" style="border-bottom: 1px solid;">
<strong>Semi-Annual</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnMn
</td>
<td style="text-align:right;">
9.177409e-01
</td>
<td style="text-align:right;">
4.439425e-01
</td>
<td style="text-align:right;">
-1.383753e-01
</td>
<td style="text-align:right;">
-3.273155e-01
</td>
<td style="text-align:right;">
-8.739833e-01
</td>
<td style="text-align:right;">
1.791724e+00
</td>
<td style="text-align:right;">
-2.262511e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnSd
</td>
<td style="text-align:right;">
3.157032e+00
</td>
<td style="text-align:right;">
2.748816e+00
</td>
<td style="text-align:right;">
2.746325e+00
</td>
<td style="text-align:right;">
2.993448e+00
</td>
<td style="text-align:right;">
3.265982e+00
</td>
<td style="text-align:right;">
5.303546e+00
</td>
<td style="text-align:right;">
1.166746e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Sharpe
</td>
<td style="text-align:right;">
2.839549e+01
</td>
<td style="text-align:right;">
1.665954e+01
</td>
<td style="text-align:right;">
-5.085238e+00
</td>
<td style="text-align:right;">
-9.732261e+00
</td>
<td style="text-align:right;">
-2.891797e+01
</td>
<td style="text-align:right;">
3.410903e+01
</td>
<td style="text-align:right;">
-1.955780e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
HitRate
</td>
<td style="text-align:right;">
7.772831e+00
</td>
<td style="text-align:right;">
4.357711e+00
</td>
<td style="text-align:right;">
-2.136226e+00
</td>
<td style="text-align:right;">
1.023115e+00
</td>
<td style="text-align:right;">
-4.670330e+00
</td>
<td style="text-align:right;">
7.701781e+00
</td>
<td style="text-align:right;">
-7.043388e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Beta
</td>
<td style="text-align:right;">
-4.615820e-02
</td>
<td style="text-align:right;">
-2.720850e-02
</td>
<td style="text-align:right;">
-9.123300e-03
</td>
<td style="text-align:right;">
1.721130e-02
</td>
<td style="text-align:right;">
6.411980e-02
</td>
<td style="text-align:right;">
-1.102780e-01
</td>
<td style="text-align:right;">
1.000000e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Alpha
</td>
<td style="text-align:right;">
8.194506e-01
</td>
<td style="text-align:right;">
3.783634e-01
</td>
<td style="text-align:right;">
-1.612186e-01
</td>
<td style="text-align:right;">
-2.849533e-01
</td>
<td style="text-align:right;">
-7.327706e-01
</td>
<td style="text-align:right;">
1.552221e+00
</td>
<td style="text-align:right;">
0.000000e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DrawDn
</td>
<td style="text-align:right;">
-6.664032e+00
</td>
<td style="text-align:right;">
-8.558616e+00
</td>
<td style="text-align:right;">
-1.183254e+01
</td>
<td style="text-align:right;">
-1.554557e+01
</td>
<td style="text-align:right;">
-1.879887e+01
</td>
<td style="text-align:right;">
-1.178804e+01
</td>
<td style="text-align:right;">
-5.279337e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DDnBeg
</td>
<td style="text-align:right;">
2.012368e+07
</td>
<td style="text-align:right;">
2.009720e+07
</td>
<td style="text-align:right;">
2.008460e+07
</td>
<td style="text-align:right;">
2.010916e+07
</td>
<td style="text-align:right;">
2.010229e+07
</td>
<td style="text-align:right;">
2.011208e+07
</td>
<td style="text-align:right;">
2.010597e+07
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DDnN
</td>
<td style="text-align:right;">
4.346154e+00
</td>
<td style="text-align:right;">
9.000000e+00
</td>
<td style="text-align:right;">
1.434615e+01
</td>
<td style="text-align:right;">
1.453846e+01
</td>
<td style="text-align:right;">
1.688462e+01
</td>
<td style="text-align:right;">
4.807692e+00
</td>
<td style="text-align:right;">
1.896154e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnTo
</td>
<td style="text-align:right;">
1.342416e+02
</td>
<td style="text-align:right;">
1.554783e+02
</td>
<td style="text-align:right;">
1.556258e+02
</td>
<td style="text-align:right;">
1.566897e+02
</td>
<td style="text-align:right;">
1.455070e+02
</td>
<td style="text-align:right;">
2.797486e+02
</td>
<td style="text-align:right;">
0.000000e+00
</td>
</tr>
<tr grouplength="10">
<td colspan="1" style="border-bottom: 1px solid;">
<strong>Weekly</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnMn
</td>
<td style="text-align:right;">
2.594197e+00
</td>
<td style="text-align:right;">
-5.597578e-01
</td>
<td style="text-align:right;">
-4.816678e-01
</td>
<td style="text-align:right;">
1.303513e-01
</td>
<td style="text-align:right;">
-1.589334e+00
</td>
<td style="text-align:right;">
4.183531e+00
</td>
<td style="text-align:right;">
-2.335283e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnSd
</td>
<td style="text-align:right;">
3.517560e+00
</td>
<td style="text-align:right;">
3.033187e+00
</td>
<td style="text-align:right;">
3.258497e+00
</td>
<td style="text-align:right;">
3.828038e+00
</td>
<td style="text-align:right;">
3.617964e+00
</td>
<td style="text-align:right;">
5.757854e+00
</td>
<td style="text-align:right;">
9.732166e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Sharpe
</td>
<td style="text-align:right;">
7.374990e+01
</td>
<td style="text-align:right;">
-1.845444e+01
</td>
<td style="text-align:right;">
-1.478190e+01
</td>
<td style="text-align:right;">
3.405173e+00
</td>
<td style="text-align:right;">
-4.392895e+01
</td>
<td style="text-align:right;">
7.265782e+01
</td>
<td style="text-align:right;">
-2.399551e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
HitRate
</td>
<td style="text-align:right;">
4.724409e+00
</td>
<td style="text-align:right;">
-2.624672e-01
</td>
<td style="text-align:right;">
0.000000e+00
</td>
<td style="text-align:right;">
1.312336e-01
</td>
<td style="text-align:right;">
-9.186352e-01
</td>
<td style="text-align:right;">
3.543307e+00
</td>
<td style="text-align:right;">
-1.968504e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Beta
</td>
<td style="text-align:right;">
6.545400e-03
</td>
<td style="text-align:right;">
-5.511870e-02
</td>
<td style="text-align:right;">
-5.953710e-02
</td>
<td style="text-align:right;">
2.269710e-02
</td>
<td style="text-align:right;">
8.401150e-02
</td>
<td style="text-align:right;">
-7.746620e-02
</td>
<td style="text-align:right;">
1.000000e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
Alpha
</td>
<td style="text-align:right;">
2.609482e+00
</td>
<td style="text-align:right;">
-6.884756e-01
</td>
<td style="text-align:right;">
-6.207038e-01
</td>
<td style="text-align:right;">
1.833555e-01
</td>
<td style="text-align:right;">
-1.393143e+00
</td>
<td style="text-align:right;">
4.002625e+00
</td>
<td style="text-align:right;">
0.000000e+00
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DrawDn
</td>
<td style="text-align:right;">
-8.927208e+00
</td>
<td style="text-align:right;">
-1.636911e+01
</td>
<td style="text-align:right;">
-1.451313e+01
</td>
<td style="text-align:right;">
-1.825955e+01
</td>
<td style="text-align:right;">
-3.015362e+01
</td>
<td style="text-align:right;">
-1.184978e+01
</td>
<td style="text-align:right;">
-6.285831e+01
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DDnBeg
</td>
<td style="text-align:right;">
2.019083e+07
</td>
<td style="text-align:right;">
2.008102e+07
</td>
<td style="text-align:right;">
2.007101e+07
</td>
<td style="text-align:right;">
2.013071e+07
</td>
<td style="text-align:right;">
2.008052e+07
</td>
<td style="text-align:right;">
2.019082e+07
</td>
<td style="text-align:right;">
2.011043e+07
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
DDnN
</td>
<td style="text-align:right;">
9.800000e+01
</td>
<td style="text-align:right;">
5.950000e+02
</td>
<td style="text-align:right;">
4.850000e+02
</td>
<td style="text-align:right;">
3.800000e+02
</td>
<td style="text-align:right;">
7.090000e+02
</td>
<td style="text-align:right;">
1.080000e+02
</td>
<td style="text-align:right;">
4.640000e+02
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
AnnTo
</td>
<td style="text-align:right;">
1.153118e+03
</td>
<td style="text-align:right;">
2.270166e+03
</td>
<td style="text-align:right;">
2.496013e+03
</td>
<td style="text-align:right;">
2.432971e+03
</td>
<td style="text-align:right;">
1.295451e+03
</td>
<td style="text-align:right;">
2.448569e+03
</td>
<td style="text-align:right;">
0.000000e+00
</td>
</tr>
</tbody>
</table>
<p><strong>Annualized mean one-week returns</strong></p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="fx-strategy.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bbk</span>(x, y, <span class="dv">1</span>, hz[<span class="dv">1</span>], nBin, doW, T, <span class="dv">0</span>, delay, idx)<span class="sc">$</span>annSumm <span class="co"># DISPLAY CALENDAR-YEAR RETURNS            </span></span></code></pre></div>
<table class=" lightable-paper lightable-hover table" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q1
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q2
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q3
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q4
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
Q5
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
TxB
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
uRet
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;color: white !important;background-color: #2c1f6e !important;">
nPrds
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
2007
</td>
<td style="text-align:right;">
-7.8360034
</td>
<td style="text-align:right;">
0.7784924
</td>
<td style="text-align:right;">
-1.4774981
</td>
<td style="text-align:right;">
2.3996230
</td>
<td style="text-align:right;">
6.1353861
</td>
<td style="text-align:right;">
-13.9713895
</td>
<td style="text-align:right;">
16.0985100
</td>
<td style="text-align:right;">
31
</td>
</tr>
<tr>
<td style="text-align:left;">
2008
</td>
<td style="text-align:right;">
4.6375210
</td>
<td style="text-align:right;">
-1.6014541
</td>
<td style="text-align:right;">
-0.6020764
</td>
<td style="text-align:right;">
0.8319950
</td>
<td style="text-align:right;">
-3.2659855
</td>
<td style="text-align:right;">
7.9035065
</td>
<td style="text-align:right;">
-13.1533701
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
2009
</td>
<td style="text-align:right;">
1.5601528
</td>
<td style="text-align:right;">
0.4728078
</td>
<td style="text-align:right;">
-0.2398714
</td>
<td style="text-align:right;">
-2.0667256
</td>
<td style="text-align:right;">
-0.4248972
</td>
<td style="text-align:right;">
1.9850500
</td>
<td style="text-align:right;">
10.2375370
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
2010
</td>
<td style="text-align:right;">
1.5754798
</td>
<td style="text-align:right;">
-3.3674781
</td>
<td style="text-align:right;">
-2.0555851
</td>
<td style="text-align:right;">
7.1616423
</td>
<td style="text-align:right;">
-2.7720355
</td>
<td style="text-align:right;">
4.3475154
</td>
<td style="text-align:right;">
2.9512123
</td>
<td style="text-align:right;">
53
</td>
</tr>
<tr>
<td style="text-align:left;">
2011
</td>
<td style="text-align:right;">
7.0131670
</td>
<td style="text-align:right;">
-4.6978445
</td>
<td style="text-align:right;">
1.2435742
</td>
<td style="text-align:right;">
0.1744792
</td>
<td style="text-align:right;">
-4.3795708
</td>
<td style="text-align:right;">
11.3927378
</td>
<td style="text-align:right;">
-4.1065988
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
2012
</td>
<td style="text-align:right;">
1.7869536
</td>
<td style="text-align:right;">
0.2928114
</td>
<td style="text-align:right;">
-3.1586101
</td>
<td style="text-align:right;">
2.9275709
</td>
<td style="text-align:right;">
-1.3886712
</td>
<td style="text-align:right;">
3.1756248
</td>
<td style="text-align:right;">
3.4833257
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
2013
</td>
<td style="text-align:right;">
5.7106674
</td>
<td style="text-align:right;">
-1.5637326
</td>
<td style="text-align:right;">
-0.5121886
</td>
<td style="text-align:right;">
-3.5315647
</td>
<td style="text-align:right;">
-0.4958326
</td>
<td style="text-align:right;">
6.2065001
</td>
<td style="text-align:right;">
-4.9124563
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
2014
</td>
<td style="text-align:right;">
7.1731441
</td>
<td style="text-align:right;">
1.6506633
</td>
<td style="text-align:right;">
-0.7707926
</td>
<td style="text-align:right;">
-1.4234973
</td>
<td style="text-align:right;">
-6.6673785
</td>
<td style="text-align:right;">
13.8405226
</td>
<td style="text-align:right;">
-16.2172346
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
2015
</td>
<td style="text-align:right;">
7.8482385
</td>
<td style="text-align:right;">
-0.2984466
</td>
<td style="text-align:right;">
-1.8293253
</td>
<td style="text-align:right;">
-4.9756229
</td>
<td style="text-align:right;">
0.1341678
</td>
<td style="text-align:right;">
7.7140707
</td>
<td style="text-align:right;">
-14.6408438
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
2016
</td>
<td style="text-align:right;">
4.6023613
</td>
<td style="text-align:right;">
0.0341821
</td>
<td style="text-align:right;">
-4.1909022
</td>
<td style="text-align:right;">
-0.6751532
</td>
<td style="text-align:right;">
0.4215097
</td>
<td style="text-align:right;">
4.1808516
</td>
<td style="text-align:right;">
-6.0898082
</td>
<td style="text-align:right;">
53
</td>
</tr>
<tr>
<td style="text-align:left;">
2017
</td>
<td style="text-align:right;">
2.8555923
</td>
<td style="text-align:right;">
-0.9374345
</td>
<td style="text-align:right;">
1.9506039
</td>
<td style="text-align:right;">
-2.1033874
</td>
<td style="text-align:right;">
-1.5728443
</td>
<td style="text-align:right;">
4.4284367
</td>
<td style="text-align:right;">
12.5654405
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
2018
</td>
<td style="text-align:right;">
3.1978511
</td>
<td style="text-align:right;">
0.5139022
</td>
<td style="text-align:right;">
0.5724439
</td>
<td style="text-align:right;">
-0.6389634
</td>
<td style="text-align:right;">
-3.6630997
</td>
<td style="text-align:right;">
6.8609507
</td>
<td style="text-align:right;">
-9.3094558
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
2019
</td>
<td style="text-align:right;">
-0.7877788
</td>
<td style="text-align:right;">
-1.7878981
</td>
<td style="text-align:right;">
2.2889560
</td>
<td style="text-align:right;">
1.2438881
</td>
<td style="text-align:right;">
-1.0945793
</td>
<td style="text-align:right;">
0.3068004
</td>
<td style="text-align:right;">
-0.9546108
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
2020
</td>
<td style="text-align:right;">
-2.9491378
</td>
<td style="text-align:right;">
2.3086817
</td>
<td style="text-align:right;">
1.6519839
</td>
<td style="text-align:right;">
-3.2017083
</td>
<td style="text-align:right;">
2.3657727
</td>
<td style="text-align:right;">
-5.3149105
</td>
<td style="text-align:right;">
4.7790869
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;">
2021
</td>
<td style="text-align:right;">
-1.6253314
</td>
<td style="text-align:right;">
0.3714917
</td>
<td style="text-align:right;">
-0.3979036
</td>
<td style="text-align:right;">
6.5067803
</td>
<td style="text-align:right;">
-4.0215014
</td>
<td style="text-align:right;">
2.3961699
</td>
<td style="text-align:right;">
-8.2316355
</td>
<td style="text-align:right;">
53
</td>
</tr>
<tr>
<td style="text-align:left;">
2022
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="multi-asset-strategy.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="flow-percentage-country-strategy.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/EPFR/EPFR-QuantNotebooks/docs/02-FX.Rmd",
"text": "Suggest an edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
